###########################
# Chinese Events BORDER WARS ADDED SOUTHERN SHAANXI #ID = 744#
###########################

add_namespace = rcmgeneric

# test on annex
#seek peace


#inflation
country_event = {
	id = rcmgeneric.4
	picture = GFX_report_event_generic_factory
	title = {
		text = rcmgeneric.4.t
		trigger = {
			NOT = {
				has_idea = RCM_civil_war_economy_idea
			}
		}
	}
	title = {
		text = rcmgeneric.4.t_cw
		trigger = {
			has_idea = RCM_civil_war_economy_idea
		}
	}
	desc = {
		text = rcmgeneric.4.d
		trigger = {
			NOT = {
				has_idea = RCM_civil_war_economy_idea
			}
		}
	}
	desc = {
		text = rcmgeneric.4.d_cw
		trigger = {
			has_idea = RCM_civil_war_economy_idea
		}
	}
	trigger = {
		always = no #comment this to reenable ES# SUPPLY system is made , no need
		NOT = {
			has_idea = RCM_manageable_economy
		}
		NOT = {
			has_idea = CHI_hyper_inflation_5
		}
		OR = {
			AND = {
				has_idea = JAP_national_mobilization_law_idea
				OR = {
					has_war_support < 0.6
					has_stability < 0.6
					any_enemy_country = {
						NOT = {
							is_literally_gaint_of_the_east = yes
						}
						ic_ratio = {
							tag = ROOT
							ratio > 1
						}
					}
				}
			}
			has_idea = RCM_civil_war_economy_idea
			has_idea = low_economic_mobilisation
			has_idea = partial_economic_mobilisation
			has_idea = economic_mobilisation
			has_idea = war_economy
			has_idea = tot_economic_mobilisation
		}
	}
	immediate = {log = "[GetDateText]: [Root.GetName]: event rcmgeneric.4 #inflation"}
	mean_time_to_happen = {
		days = 550
		modifier = {
			factor = 0.66
			ROOT = {
				has_idea = economic_mobilisation
			}
		}
		modifier = {
			factor = 0.33
			ROOT = {
				has_idea = war_economy
			}
		}		
		modifier = {
			factor = 0.16
			ROOT = {
				has_idea = tot_economic_mobilisation
			}
		}
		modifier = {
			factor = 0.33
			ROOT = {
				has_idea = JAP_national_mobilization_law_idea
				OR = {
					has_war_support < 0.6
					has_stability < 0.6
					any_enemy_country = {
						NOT = {
							is_literally_gaint_of_the_east = yes
						}
						ic_ratio = {
							tag = ROOT
							ratio > 1
						}
					}
					AND = {
						has_USA_sanction_idea = yes
						USA = {
							ic_ratio = {
								tag = ROOT
								ratio > 1
							}
						}
					}
				}
			}
		}
		modifier = {
			factor = 0.85
			ROOT = {
				has_idea = JAP_national_mobilization_law_idea
				OR = {
					has_war_support < 0.5
					has_stability < 0.5
					any_enemy_country = {
						NOT = {
							is_literally_gaint_of_the_east = yes
						}
						ic_ratio = {
							tag = ROOT
							ratio > 1.2
						}
					}
					AND = {
						has_USA_sanction_idea = yes
						USA = {
							ic_ratio = {
								tag = ROOT
								ratio > 1.2
							}
						}
					}
				}
			}
		}
		modifier = {
			factor = 0.8
			ROOT = {
				has_idea = JAP_national_mobilization_law_idea
				OR = {
					has_war_support < 0.4
					has_stability < 0.4
					any_enemy_country = {
						NOT = {
							is_literally_gaint_of_the_east = yes
						}
						ic_ratio = {
							tag = ROOT
							ratio > 1.6
						}
					}
					AND = {
						has_USA_sanction_idea = yes
						USA = {
							ic_ratio = {
								tag = ROOT
								ratio > 1.6
							}
						}
					}
				}
			}
		}
		modifier = {
			factor = 0.75
			ROOT = {
				has_idea = JAP_national_mobilization_law_idea
				OR = {
					has_war_support < 0.3
					has_stability < 0.3
					any_enemy_country = {
						NOT = {
							is_literally_gaint_of_the_east = yes
						}
						ic_ratio = {
							tag = ROOT
							ratio > 2
						}
					}
					AND = {
						has_USA_sanction_idea = yes
						USA = {
							ic_ratio = {
								tag = ROOT
								ratio > 2
							}
						}
					}
				}
			}
		}
		modifier = {
			factor = 0.7
			ROOT = {
				has_idea = JAP_national_mobilization_law_idea
				OR = {
					has_war_support < 0.2
					has_stability < 0.2
					any_enemy_country = {
						NOT = {
							is_literally_gaint_of_the_east = yes
						}
						ic_ratio = {
							tag = ROOT
							ratio > 2.5
						}
					}
					AND = {
						has_USA_sanction_idea = yes
						USA = {
							ic_ratio = {
								tag = ROOT
								ratio > 2.5
							}
						}
					}
				}
			}
		}
		modifier = {
			factor = 3
			ROOT = {
				has_idea = PRC_war_communism
			}
		}
		modifier = { #Rationing!
			factor = 1.3
			ROOT = {
				has_idea = RCM_rationing_idea
			}
		}
		modifier = { #CIVIL WAR
			factor = 0.33
			ROOT = {
				has_idea = RCM_civil_war_economy_idea
			}
		}
	}
	immediate = {
	}
	option = {
		name = rcmgeneric.4.a
		trigger = {
			NOT = {
				has_idea = CHI_hyper_inflation_5
			}
		}
		if = {
			limit = {
				NOT = {
					has_idea = CHI_hyper_inflation_4
				}
			}
			RCM_increase_inflation_level = yes
		}
		else_if = {
			limit = {
				has_idea = low_economic_mobilisation
			}
			RCM_increase_inflation_level = yes
			add_ideas = civilian_economy
		}
		else_if = {
			limit = {
				has_idea = partial_economic_mobilisation
			}
			RCM_increase_inflation_level = yes
			add_ideas = low_economic_mobilisation
		}
		else_if = {
			limit = {
				has_idea = economic_mobilisation
			}
			RCM_increase_inflation_level = yes
			add_ideas = partial_economic_mobilisation
		}
		else_if = {
			limit = {
				has_idea = war_economy
			}
			RCM_increase_inflation_level = yes
			add_ideas = economic_mobilisation
		}
		else_if = {
			limit = {
				has_idea = tot_economic_mobilisation
			}
			RCM_increase_inflation_level = yes
			add_ideas = war_economy
		}
		else = {
			RCM_increase_inflation_level = yes
		}
	}
	option = {
		name = rcmgeneric.4.b
		trigger = {
			has_idea = CHI_hyper_inflation_5
		}
		add_stability = -0.03
		add_war_support = -0.03
	}
}

country_event = { #civil war
	id = rcmgeneric.5
	title = rcmgeneric.5.t
	desc = rcmgeneric.5.d

	picture = GFX_report_event_generic_factory

	is_triggered_only = yes
	trigger = { always = no } #comment this to reenable ES#
	option = {
		ai_chance = { factor = 90 }
		name = rcmgeneric.5.a
		add_ideas = RCM_civil_war_economy_idea
		custom_effect_tooltip = RCM_civil_war_tt
	}

}

country_event = { #receive foreign aid!
	id = rcmgeneric.7
	title = rcmgeneric.7.t
	desc = rcmgeneric.7.d
	picture = GFX_report_event_china_ledo_road
	

	is_triggered_only = yes

	immediate = {
	}
	
	option = {
		name = rcmgeneric.7.a
		custom_effect_tooltip = recieve_foreign_aid_event_tt
	}
}
country_event = { #stop foreign aid!
	id = rcmgeneric.8
	title = rcmgeneric.8.t
	desc = rcmgeneric.8.d
	picture = GFX_report_event_military_planning
	

	is_triggered_only = yes

	immediate = {
	}
	
	option = {
		name = rcmgeneric.8.a
		custom_effect_tooltip = recieve_foreign_aid_event_tt
	}
}

country_event = { #inflation Risks!
	id = rcmgeneric.10
	title = rcmgeneric.10.t
	desc = rcmgeneric.10.d
	picture = GFX_report_event_generic_factory
	
	trigger = {
		NOT = {
			has_country_flag = economy_inflate_cooldown_flag
		}
		NOT = {
			has_active_mission = RCM_inflation_crisis
		}
		NOT = {
			has_idea = SPR_anarchist_society_1
			has_idea = SPR_anarchist_society_2
			has_idea = SPR_anarchist_society_3
			has_idea = SPR_anarchist_society_4
			has_idea = SPR_anarchist_society_5
			has_idea = SPR_anarchist_society_6
			has_idea = SPR_anarchist_society_7
			has_idea = SPR_anarchist_society_8
			has_idea = SPR_anarchist_society_9
			has_idea = SPR_anarchist_society_10
			has_idea = SPR_anarchist_society_11
			has_idea = SPR_anarchist_society_12
			has_idea = SPR_anarchist_society_13
			has_idea = SPR_anarchist_society_14
			has_idea = SPR_anarchist_society_15
			has_idea = SPR_anarchist_society_16
			has_idea = SPR_anarchist_society_17
			has_idea = SPR_anarchist_society_18
			has_idea = SPR_anarchist_society_19
		}
		if = {
			limit = {
				has_idea = free_trade
			}
			has_stability < 0.20
		}
		else_if = {
			limit = {
				has_idea = export_focus						
			}
			has_stability < 0.40
		}
		else_if = {
			limit = {
				has_idea = limited_exports						
			}
			has_stability < 0.60
		}
		else_if = {
			limit = {
				has_idea = closed_economy						
			}
			has_stability < 0.80
		}
		else = {
			always = no
		}
	}
	#is_triggered_only = yes
	mean_time_to_happen = {
		days = 2
	}
	immediate = {
	}
	
	option = {
		name = rcmgeneric.10.a
		activate_mission = RCM_inflation_crisis
	}
}

country_event = { #inflation continuation
	id = rcmgeneric.11
	title = rcmgeneric.11.t
	desc = rcmgeneric.11.d
	picture = GFX_report_event_generic_factory
	
	trigger = {
		NOT = {
			has_active_mission = RCM_inflation_crisis
		}
		NOT = {
			has_country_flag = economy_inflate_cooldown_flag
		}
		if = {
			limit = {
				has_idea = free_trade
			}
			has_stability < 0.15
		}
		else_if = {
			limit = {
				has_idea = export_focus						
			}
			has_stability < 0.35
		}
		else_if = {
			limit = {
				has_idea = limited_exports						
			}
			has_stability < 0.55
		}
		else_if = {
			limit = {
				has_idea = closed_economy						
			}
			has_stability < 0.75
		}
		else = {
			always = no
		}
	}
	is_triggered_only = yes
	immediate = {
	}
	
	option = {
		name = rcmgeneric.11.a
		activate_mission_tooltip = RCM_inflation_crisis
	}
}

country_event = { #inflation continuation
	id = rcmgeneric.12
	title = rcmgeneric.12.t
	desc = rcmgeneric.12.d
	picture = GFX_report_event_generic_factory
	
	is_triggered_only = yes
	immediate = {
	}
	
	option = {
		name = rcmgeneric.12.a
		effect_tooltip = {
			RCM_increase_inflation_level = yes
		}
	}
}
