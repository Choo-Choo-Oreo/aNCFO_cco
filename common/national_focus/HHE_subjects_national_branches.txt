focus_tree = {
	id = hhe_subjects_focus
	
	country = { # Starting
		factor = 0
		modifier = {
			add = 10
			or = {
				original_tag = HBB
				original_tag = HCR
				original_tag = HER
				original_tag = HET
				original_tag = HLF
				original_tag = HNO
				original_tag = HRF
				original_tag = HPP
				original_tag = HSP
				original_tag = HST
				original_tag = HTP
				original_tag = HUM
				original_tag = HUP
				original_tag = HWA
			}
		}
		modifier = {
			add = 10
			or = {
				original_tag = ETF
			}
		}
	}
	default = no

	shared_focus = HHI_subjects_regional_industries # Industry
	shared_focus = HHI_subjects_clear_sight # Political
	shared_focus = HHI_subjects_modern_military # Military
	# Civil War Major
		focus = { # Victory over the Civil war!
			id = HHE_subjects_civil_war_victory
			icon = GFX_focus_unknown
			#prerequisite = { focus =  }
			#mutually_exclusive = { focus =  }
			#relative_position_id = 
			x = 10
			y = 6
			cost = 5

			allow_branch = {
				has_global_flag = HHE_collapse_of_the_nation
			}
			available = {
				HHE_civil_war_great_victory = yes # To check if they won the civil war.
			}
			bypass = {
			}

			ai_will_do = {
				base = 1000
			}

			available_if_capitulated = yes

			completion_reward = {
				log = "[GetDateText]: [Root.GetName]: Focus HHE_subjects_civil_war_victory"
				add_stability = 0.10
			}
		}

		focus = { # Victor Gabriel Strongheart
			id = HHE_subjects_victor_gabriel_strongheart
			icon = GFX_focus_unknown
			prerequisite = { focus = HHE_subjects_civil_war_victory }
			#mutually_exclusive = { focus =  }
			relative_position_id = HHE_subjects_civil_war_victory
			x = 0
			y = 1
			cost = 5

			allow_branch = {
				has_global_flag = HHE_collapse_of_the_nation
				original_tag = HLF
			}
			available = {
				HHE_civil_war_great_victory = yes # To check if they won the civil war.
				NOT = { country_exists = HHE country_exists = HBB country_exists = HCR country_exists = HER country_exists = HET country_exists = HST country_exists = HNO country_exists = HPP country_exists = HRF country_exists = HSP country_exists = HTP country_exists = HUM country_exists = HUP country_exists = HWA country_exists = HAN country_exists = HAP country_exists = HAW country_exists = HCO country_exists = HDW country_exists = HFF country_exists = HFR country_exists = HFS country_exists = HJU country_exists = HPG country_exists = HUF country_exists = ETF }
			}
			bypass = {
			}

			ai_will_do = {
				base = 1000
			}

			available_if_capitulated = yes

			completion_reward = {
				log = "[GetDateText]: [Root.GetName]: Focus HHE_subjects_victor_gabriel_strongheart"
				HHI_subjects_civil_war_ends = yes
			}
		}

		focus = { # Victor Isabella Delfina
			id = HHE_subjects_victor_isabella_delfina
			icon = GFX_focus_unknown
			prerequisite = { focus = HHE_subjects_civil_war_victory }
			#mutually_exclusive = { focus =  }
			relative_position_id = HHE_subjects_civil_war_victory
			x = 0
			y = 1
			cost = 5

			allow_branch = {
				has_global_flag = HHE_collapse_of_the_nation
				original_tag = HST
			}
			available = {
				HHE_civil_war_great_victory = yes # To check if they won the civil war.
				NOT = { country_exists = HHE country_exists = HBB country_exists = HCR country_exists = HER country_exists = HET country_exists = HLF country_exists = HNO country_exists = HPP country_exists = HRF country_exists = HSP country_exists = HTP country_exists = HUM country_exists = HUP country_exists = HWA country_exists = HAN country_exists = HAP country_exists = HAW country_exists = HCO country_exists = HDW country_exists = HFF country_exists = HFR country_exists = HFS country_exists = HJU country_exists = HPG country_exists = HUF country_exists = ETF }
			}
			bypass = {
			}

			ai_will_do = {
				base = 1000
			}

			available_if_capitulated = yes

			completion_reward = {
				log = "[GetDateText]: [Root.GetName]: Focus HHE_subjects_victor_isabella_delfina"
				HHI_subjects_civil_war_ends = yes
			}
		}

		focus = { # Victor Gaius Divitiis
			id = HHE_subjects_victor_gaius_divitiis
			icon = GFX_focus_unknown
			prerequisite = { focus = HHE_subjects_civil_war_victory }
			#mutually_exclusive = { focus =  }
			relative_position_id = HHE_subjects_civil_war_victory
			x = 0
			y = 1
			cost = 5

			allow_branch = {
				has_global_flag = HHE_collapse_of_the_nation
				original_tag = HNO
			}
			available = {
				HHE_civil_war_great_victory = yes # To check if they won the civil war.
				NOT = { country_exists = HHE country_exists = HBB country_exists = HCR country_exists = HER country_exists = HET country_exists = HLF country_exists = HST country_exists = HPP country_exists = HRF country_exists = HSP country_exists = HTP country_exists = HUM country_exists = HUP country_exists = HWA country_exists = HAN country_exists = HAP country_exists = HAW country_exists = HCO country_exists = HDW country_exists = HFF country_exists = HFR country_exists = HFS country_exists = HJU country_exists = HPG country_exists = HUF country_exists = ETF }
			}
			bypass = {
			}

			ai_will_do = {
				base = 1000
			}

			available_if_capitulated = yes

			completion_reward = {
				log = "[GetDateText]: [Root.GetName]: Focus HHE_subjects_victor_gaius_divitiis"
				HHI_subjects_civil_war_ends = yes
			}
		}
	continuous_focus_position = { x = 2150 y = 750 }
}

focus_tree = { # Released
	id = hhe_rebels_focus
	
	country = {
		factor = 0
		modifier = {
			add = 10
			or = {
				original_tag = HAN
				original_tag = HAP
				original_tag = HAW
				original_tag = HCO
				original_tag = HDW
				original_tag = HFF
				original_tag = HFR
				original_tag = HFS
				original_tag = HJU
				original_tag = HPG
				original_tag = HUF
			}
		}
	}
	default = no

	shared_focus = HHI_subjects_regional_industries # Industry
	shared_focus = HHI_subjects_clear_sight # Political
	shared_focus = HHI_subjects_modern_military # Military
	# Civil War Minor
		focus = { # Victory over the Civil war!
			id = HHE_subjects_minor_civil_war_victory
			icon = GFX_focus_unknown
			#prerequisite = { focus =  }
			#mutually_exclusive = { focus =  }
			#relative_position_id = 
			x = 10
			y = 6
			cost = 5

			allow_branch = {
				has_global_flag = HHE_collapse_of_the_nation
			}
			available = {
				HHE_civil_war_great_victory = yes # To check if they won the civil war.
			}
			bypass = {
			}

			ai_will_do = {
				base = 1000
			}

			available_if_capitulated = yes

			completion_reward = {
				log = "[GetDateText]: [Root.GetName]: Focus HHE_subjects_minor_civil_war_victory"
				add_stability = 0.10
			}
		}

		focus = { # Victor of the People
			id = HHE_subjects_minor_victor_of_the_people
			icon = GFX_focus_unknown
			prerequisite = { focus = HHE_subjects_minor_civil_war_victory }
			#mutually_exclusive = { focus =  }
			relative_position_id = HHE_subjects_minor_civil_war_victory
			x = 0
			y = 1
			cost = 5

			allow_branch = {
				has_global_flag = HHE_collapse_of_the_nation
				original_tag = HPG
			}
			available = {
				HHE_civil_war_great_victory = yes # To check if they won the civil war.
				NOT = { country_exists = HHE country_exists = HBB country_exists = HCR country_exists = HER country_exists = HET country_exists = HLF country_exists = HST country_exists = HPP country_exists = HRF country_exists = HSP country_exists = HTP country_exists = HUM country_exists = HUP country_exists = HWA country_exists = HAN country_exists = HAP country_exists = HAW country_exists = HCO country_exists = HDW country_exists = HFF country_exists = HFR country_exists = HFS country_exists = HJU country_exists = HNO country_exists = HUF country_exists = ETF }
			}
			bypass = {
			}

			ai_will_do = {
				base = 1000
			}

			available_if_capitulated = yes

			completion_reward = {
				log = "[GetDateText]: [Root.GetName]: Focus HHE_subjects_minor_victor_of_the_people"
				HHI_subjects_civil_war_ends = yes
			}
		}
	continuous_focus_position = { x = 2150 y = 750 }
}

# Industry
	shared_focus = { # Buildup Regional Industries
		id = HHI_subjects_regional_industries
		icon = GFX_goal_generic_construct_civilian
		#prerequisite = { focus =  }
		#mutually_exclusive = { focus =  }
		#relative_position_id = 
		x = 0
		y = 0
		cost = 10

		allow_branch = {
		}
		available = {
		}
		bypass = {
		}

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_regional_industries"
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	shared_focus = { # First Civilian Sector Expansion
		id = HHI_subjects_first_civilian_sector_expansion
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = HHI_subjects_regional_industries }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_regional_industries
		x = 1
		y = 1
		cost = 10

		allow_branch = {
		}
		available = {
		}
		bypass = {
		}

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_first_civilian_sector_expansion"
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	shared_focus = { # Second Civilian Sector Expansion
		id = HHI_subjects_second_civilian_sector_expansion
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = HHI_subjects_first_civilian_sector_expansion }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_first_civilian_sector_expansion
		x = 0
		y = 1
		cost = 10

		allow_branch = {
		}
		available = {
		}
		bypass = {
		}

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_second_civilian_sector_expansion"
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	shared_focus = { # Large Mining Investments
		id = HHI_subjects_mining_investments
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = HHI_subjects_regional_industries }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_regional_industries
		x = 3
		y = 1
		cost = 10

		allow_branch = {
		}
		available = {
		}
		bypass = {
		}

		ai_will_do = {
			base = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_mining_investments"
			add_tech_bonus = {
				name = HHI_SUBJECTS_mining_investments_research
				bonus = 1.0
				uses = 2
				category = excavation_tech
			}
		}
	}

	shared_focus = { # Expand Mining Operations
		id = HHI_subjects_mining_operations
		icon = GFX_focus_generic_mining_industry
		prerequisite = { focus = HHI_subjects_mining_investments }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_mining_investments
		x = 0
		y = 1
		cost = 10

		allow_branch = {
		}
		available = {
		}
		bypass = {
		}

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_mining_operations"
			custom_effect_tooltip = HHI_SUBJECTS_MINING_OPERATIONS
			set_country_flag = mining_operations
		}
	}

	shared_focus = { # Steel Refining Processing
		id = HHI_subjects_steel_processing
		icon = GFX_focus_generic_steel
		prerequisite = { focus = HHI_subjects_mining_operations }
		prerequisite = { focus = HHI_subjects_second_civilian_sector_expansion }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_mining_operations
		x = -1
		y = 1
		cost = 10

		allow_branch = {
		}
		available = {
		}
		bypass = {
		}

		ai_will_do = {
			base = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_steel_processing"
			add_tech_bonus = {
				name = HHI_SUBJECTS_steel_refining_improvements
				bonus = 1.0
				uses = 1
				technology = steel_refining1
				technology = steel_refining2
				technology = steel_refining3
				technology = steel_refining4
				technology = steel_refining5
				technology = steel_refining6
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = steel_complex
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = steel_complex
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = steel_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	shared_focus = { # Expand Road Infrastructure
		id = HHI_subjects_expand_road_infrastructure
		icon = GFX_focus_generic_truck
		prerequisite = { focus = HHI_subjects_regional_industries }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_regional_industries
		x = -1
		y = 1
		cost = 10

		allow_branch = {
		}
		available = {
		}
		bypass = {
		}

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_expand_road_infrastructure"
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 0
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 1
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

	shared_focus = { # Expand Rail Infrastructure
		id = HHI_subjects_expand_rail_infrastructure
		icon = GFX_focus_generic_railroad
		prerequisite = { focus = HHI_subjects_expand_road_infrastructure }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_expand_road_infrastructure
		x = 0
		y = 1
		cost = 10

		allow_branch = {
		}
		available = {
		}
		bypass = {
		}

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_expand_rail_infrastructure"
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 0
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 1
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			add_timed_idea = {
				idea = expand_railroad
				days = 360
			}
		}
	}

	shared_focus = { # Expand Naval Facilities
		id = HHI_subjects_expand_naval_facilities
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = HHI_subjects_regional_industries }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_regional_industries
		x = -3
		y = 1
		cost = 15

		allow_branch = {
		}
		available = {
			any_state = {
				is_coastal = yes
				is_controlled_by = ROOT
			}
		}
		bypass = {
		}

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			navy_experience = 25
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_expand_naval_facilities"
			navy_experience = 25
			add_tech_bonus = {
				name = HHI_SUBJECTS_expanded_naval_facilities
				bonus = 1.0
				uses = 2
				technology = mtg_transport
				technology = mtg_transport_2
				technology = mtg_landing_craft
				technology = mtg_tank_landing_craft
			}
			if = {
				limit = {
					NOT = {
						any_owned_state = {
							dockyard > 0
							free_building_slots = {
								building = dockyard
								size > 1
								include_locked = yes
							}
						}
					}
					any_owned_state = {
						is_coastal = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
				set_country_flag = naval_effort_built1
			}
			if = {
				limit = {
					NOT = { has_country_flag = naval_effort_built1 }
					any_owned_state = {
						dockyard > 0
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						dockyard > 0
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
				set_country_flag = naval_effort_built1
			}
			if = {
				limit = {
					NOT = { has_country_flag = naval_effort_built1 }
					NOT = {
						any_owned_state = {
							free_building_slots = {
								building = dockyard
								size > 1
								include_locked = yes
							}
						}
					}
				}
				random_state = {
					limit = {
						controller = { tag = ROOT }
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	shared_focus = { # Improved Naval Production
		id = HHI_subjects_improved_naval_production
		icon = GFX_focus_generic_refit_civilian_ships
		prerequisite = { focus = HHI_subjects_expand_naval_facilities }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_expand_naval_facilities
		x = 0
		y = 1
		cost = 15

		allow_branch = {
		}
		available = {
		}
		bypass = {
		}

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_improved_naval_production"
			add_tech_bonus = {
				name = HHI_SUBJECTS_improved_ship_construction
				bonus = 2.0
				uses = 1
				technology = basic_ship_construction
				technology = improved_ship_construction
				technology = advanced_ship_construction
				technology = modern_ship_construction
			}
			if = {
				limit = {
					NOT = {
						any_owned_state = {
							dockyard > 0
							free_building_slots = {
								building = dockyard
								size > 1
								include_locked = yes
							}
						}
					}
					any_owned_state = {
						is_coastal = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
				set_country_flag = naval_effort_built2
			}
			if = {
				limit = {
					NOT = { has_country_flag = naval_effort_built2 }
					any_owned_state = {
						dockyard > 0
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						dockyard > 0
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
				set_country_flag = naval_effort_built2
			}
			if = {
				limit = {
					NOT = { has_country_flag = naval_effort_built2 }
					NOT = {
						any_owned_state = {
							free_building_slots = {
								building = dockyard
								size > 1
								include_locked = yes
							}
						}
					}
				}
				random_state = {
					limit = {
						controller = { tag = ROOT }
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	shared_focus = { # Aluminium Refining Processing
		id = HHI_subjects_aluminium_processing
		icon = GFX_focus_generic_aluminum
		prerequisite = { focus = HHI_subjects_expand_rail_infrastructure }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_expand_rail_infrastructure
		x = -1
		y = 1
		cost = 10

		allow_branch = {
		}
		available = {
		}
		bypass = {
		}

		ai_will_do = {
			base = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_aluminium_processing"
			add_tech_bonus = {
				name = HHI_SUBJECTS_aluminium_refining_improvements
				bonus = 1.0
				uses = 1
				technology = aluminium_refining1
				technology = aluminium_refining2
				technology = aluminium_refining3
				technology = aluminium_refining4
				technology = aluminium_refining5
				technology = aluminium_refining6
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = aluminium_complex
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = aluminium_complex
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = aluminium_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	shared_focus = { # Regional Education Reforms
		id = HHI_subjects_regional_education
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = HHI_subjects_second_civilian_sector_expansion }
		prerequisite = { focus = HHI_subjects_regional_industries }
		prerequisite = { focus = HHI_subjects_expand_rail_infrastructure }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_regional_industries
		x = 0
		y = 3
		cost = 10

		allow_branch = {
		}
		available = {
		}
		bypass = {
		}

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_regional_education"
			add_research_slot = 1
		}
	}

	shared_focus = { # Finalized First Industrial Plan
		id = HHI_subjects_completed_first_industrial_plan
		icon = GFX_focus_generic_industry_1
		prerequisite = { focus = HHI_subjects_steel_processing }
		prerequisite = { focus = HHI_subjects_aluminium_processing }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_regional_industries
		x = 0
		y = 4
		cost = 5

		allow_branch = {
		}
		available = {
			OR = {
				has_global_flag = elected_tradition
				has_global_flag = elected_influencer
				has_global_flag = elected_authority
				has_global_flag = elected_warmonger
				has_global_flag = HHE_luke_deeds_good_deeds
				has_global_flag = HHE_collapse_of_the_nation
			}
			OR = {
				has_completed_focus = HHI_subjects_follow_central_government
				has_completed_focus = HHI_subjects_betray_central_government
				has_completed_focus = HHE_subjects_smite_civil_unrest
			}
		}
		bypass = {
		}

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_completed_first_industrial_plan"
			add_ideas = modernized_industrial2
		}
	}

	shared_focus = { # Enlarge Dockyard
		id = HHI_subjects_enlarge_dockyards
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = HHI_subjects_completed_first_industrial_plan }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_completed_first_industrial_plan
		x = -4
		y = 1
		cost = 15

		allow_branch = {
		}
		available = {
			any_state = {
				is_coastal = yes
				is_controlled_by = ROOT
			}
		}
		bypass = {
		}

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = no

		complete_tooltip = {
			navy_experience = 25
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_enlarge_dockyards"
			navy_experience = 25
			if = {
				limit = {
					NOT = {
						any_owned_state = {
							dockyard > 0
							free_building_slots = {
								building = dockyard
								size > 1
								include_locked = yes
							}
						}
					}
					any_owned_state = {
						is_coastal = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
				set_country_flag = naval_effort_built2
			}
			if = {
				limit = {
					NOT = { has_country_flag = naval_effort_built2 }
					any_owned_state = {
						dockyard > 0
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						dockyard > 0
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
				set_country_flag = naval_effort_built2
			}
			if = {
				limit = {
					NOT = { has_country_flag = naval_effort_built2 }
					NOT = {
						any_owned_state = {
							free_building_slots = {
								building = dockyard
								size > 1
								include_locked = yes
							}
						}
					}
				}
				random_state = {
					limit = {
						controller = { tag = ROOT }
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	shared_focus = { # Aerial Craft Naval Support
		id = HHI_subjects_aerial_naval_support
		icon = GFX_focus_generic_multi_role_aircraft
		prerequisite = { focus = HHI_subjects_enlarge_dockyards }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_enlarge_dockyards
		x = 0
		y = 1
		cost = 10

		allow_branch = {
		}
		available = {
			any_state = {
				is_coastal = yes
				is_controlled_by = ROOT
			}
		}
		bypass = {
		}

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_aerial_naval_support"
			if = {
				limit = {
					NOT = {
						any_owned_state = {
							air_base > 0
							free_building_slots = {
								building = air_base
								size > 2
								include_locked = yes
							}
						}
					}
					any_owned_state = {
						is_coastal = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = air_base
							size > 2
							include_locked = yes
						}
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}
				set_country_flag = aircraft_naval_effort_built
			}
			if = {
				limit = {
					NOT = { has_country_flag = aircraft_naval_effort_built }
					any_owned_state = {
						air_base > 0
						free_building_slots = {
							building = air_base
							size > 2
							include_locked = yes
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						air_base > 0
						free_building_slots = {
							building = air_base
							size > 2
							include_locked = yes
						}
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}
				set_country_flag = aircraft_naval_effort_built
			}
			if = {
				limit = {
					NOT = { has_country_flag = aircraft_naval_effort_built }
					NOT = {
						any_owned_state = {
							free_building_slots = {
								building = air_base
								size > 2
								include_locked = yes
							}
						}
					}
				}
				random_state = {
					limit = {
						controller = { tag = ROOT }
						free_building_slots = {
							building = air_base
							size > 2
							include_locked = yes
						}
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	shared_focus = { # Dispersed Military
		id = HHI_subjects_dispersed_military
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = HHI_subjects_completed_first_industrial_plan }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_completed_first_industrial_plan
		x = -2
		y = 1
		cost = 10

		allow_branch = {
		}
		available = {
		}
		bypass = {
		}

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_dispersed_military"
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	shared_focus = { # Capital Military
		id = HHI_subjects_capital_military
		icon = GFX_focus_generic_tank_production
		prerequisite = { focus = HHI_subjects_dispersed_military }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_dispersed_military
		x = 0
		y = 1
		cost = 10

		allow_branch = {
		}
		available = {
		}
		bypass = {
		}

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_capital_military"
			if = {
				limit = {
					capital_scope = {
						NOT = {
							free_building_slots = {
								building = arms_factory
								size > 1
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 1
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
					ROOT = { set_country_flag = HHI_SUBJECTS_improve_capital_military }
				}
			}
			if = {
				limit = {
					capital_scope = {
						free_building_slots = {
							building = arms_factory
							size > 1
						}
					}
				}
				capital_scope = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
					ROOT = { set_country_flag = HHI_SUBJECTS_improve_capital_military }
				}
			}
		}
	}

	shared_focus = { # Connect electronic Infrastructure
		id = HHI_subjects_connect_electronic_infrastructure
		icon = GFX_focus_generic_energy
		prerequisite = { focus = HHI_subjects_completed_first_industrial_plan }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_completed_first_industrial_plan
		x = 0
		y = 1
		cost = 15

		allow_branch = {
		}
		available = {
		}
		bypass = {
		}

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = no

		complete_tooltip = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_connect_electronic_infrastructure"
			add_tech_bonus = {
				name = HHI_SUBJECTS_connect_electronic_infrastructure
				bonus = 1.0
				uses = 2
				category = electronics
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 0
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 1
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

	shared_focus = { # Utilize Hydroelectric Energy
		id = HHI_subjects_utilize_hydroelectric_energy
		icon = GFX_focus_generic_hydroelectric_energy
		prerequisite = { focus = HHI_subjects_connect_electronic_infrastructure }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_connect_electronic_infrastructure
		x = 0
		y = 1
		cost = 15

		allow_branch = {
		}
		available = {
		}
		bypass = {
		}

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = no

		complete_tooltip = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_utilize_hydroelectric_energy"
			add_tech_bonus = {
				name = HHI_SUBJECTS_hydroelectric_energy
				bonus = 1.0
				uses = 2
				category = electronics
			}
			add_tech_bonus = {
				name = HHI_SUBJECTS_hydroelectric_energy
				bonus = 2.0
				uses = 1
				category = nuclear
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 0
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 1
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

	shared_focus = { # Dispersed Civilian
		id = HHI_subjects_dispersed_civilian
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = HHI_subjects_completed_first_industrial_plan }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_completed_first_industrial_plan
		x = 2
		y = 1
		cost = 10

		allow_branch = {
		}
		available = {
		}
		bypass = {
		}

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_dispersed_civilian"
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	shared_focus = { # Capital Civilian
		id = HHI_subjects_capital_civilian
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = HHI_subjects_dispersed_civilian }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_dispersed_civilian
		x = 0
		y = 1
		cost = 10

		allow_branch = {
		}
		available = {
		}
		bypass = {
		}

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_capital_civilian"
			if = {
				limit = {
					capital_scope = {
						NOT = {
							free_building_slots = {
								building = industrial_complex
								size > 1
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 1
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					ROOT = { set_country_flag = HHI_SUBJECTS_improve_capital_civilian }
				}
			}
			if = {
				limit = {
					capital_scope = {
						free_building_slots = {
							building = industrial_complex
							size > 1
						}
					}
				}
				capital_scope = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					ROOT = { set_country_flag = HHI_SUBJECTS_improve_capital_civilian }
				}
			}
		}
	}

	shared_focus = { # Oil Resource Silos
		id = HHI_subjects_resource_storage
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = HHI_subjects_completed_first_industrial_plan }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_completed_first_industrial_plan
		x = 4
		y = 1
		cost = 5

		allow_branch = {
		}
		available = {
			has_tech = fuel_silos
		}
		bypass = {
		}

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_resource_storage"
			if = {
				limit = {
					capital_scope = {
						NOT = {
							free_building_slots = {
								building = fuel_silo
								size > 1
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = fuel_silo
							size > 1
						}
					}
					add_building_construction = {
						type = fuel_silo
						level = 3
						instant_build = yes
					}
					ROOT = { set_country_flag = HHI_SUBJECTS_resource_storage_fuel }
				}
			}
			if = {
				limit = {
					capital_scope = {
						free_building_slots = {
							building = fuel_silo
							size > 1
						}
					}
				}
				capital_scope = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = fuel_silo
						level = 3
						instant_build = yes
					}
					ROOT = { set_country_flag = HHI_SUBJECTS_resource_storage_fuel }
				}
			}
		}
	}

	shared_focus = { # Eyes Towards the Sky
		id = HHI_subjects_sky_eyes
		icon = GFX_goal_generic_radar
		prerequisite = { focus = HHI_subjects_resource_storage }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_resource_storage
		x = 0
		y = 1
		cost = 5

		allow_branch = {
		}
		available = {
			has_tech = radio_detection
		}
		bypass = {
		}

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_sky_eyes"
			air_experience = 25
			add_tech_bonus = {
				name = HHI_SUBJECTS_radar_focus
				bonus = 1.0
				uses = 3
				category = radar_tech
			}
			if = {
				limit = {
					capital_scope = {
						NOT = {
							free_building_slots = {
								building = radar_station
								size > 1
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = radar_station
							size > 1
						}
					}
					add_building_construction = {
						type = radar_station
						level = 1
						instant_build = yes
					}
					ROOT = { set_country_flag = HHI_SUBJECTS_resource_storage_fuel }
				}
			}
			if = {
				limit = {
					capital_scope = {
						free_building_slots = {
							building = radar_station
							size > 1
						}
					}
				}
				capital_scope = {
					add_building_construction = {
						type = radar_station
						level = 1
						instant_build = yes
					}
					ROOT = { set_country_flag = HHI_SUBJECTS_resource_storage_fuel }
				}
			}
		}
	}

	shared_focus = { # Finalized Second Industrial Plan
		id = HHI_subjects_completed_second_industrial_plan
		icon = GFX_focus_generic_industry_2
		prerequisite = { focus = HHI_subjects_capital_military }
		prerequisite = { focus = HHI_subjects_utilize_hydroelectric_energy }
		prerequisite = { focus = HHI_subjects_capital_civilian }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_completed_first_industrial_plan
		x = 0
		y = 3
		cost = 5

		allow_branch = {
		}
		available = {
			OR = {
				has_global_flag = HHE_collapse_of_the_nation
				AND = {
					NOT = { has_idea = elven_tribal_rebellion }
					OR = {
						has_completed_focus = HHI_subjects_follow_central_government
						has_completed_focus = HHI_subjects_betray_central_government
						has_completed_focus = HHE_subjects_smite_civil_unrest
					}
				}
			}
		}
		bypass = {
		}

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_completed_second_industrial_plan"
			swap_ideas = {
				remove_idea = modernized_industrial2
				add_idea = modernized_industrial1
			}
		}
	}

	shared_focus = { # Focus on Internal Trade
		id = HHI_subjects_internal_trade
		icon = GFX_focus_generic_modernize_industry
		prerequisite = { focus = HHI_subjects_completed_second_industrial_plan }
		mutually_exclusive = { focus = HHI_subjects_recognized_global_trade }
		relative_position_id = HHI_subjects_completed_second_industrial_plan
		x = -4
		y = 1
		cost = 5

		allow_branch = {
		}
		available = {
		}
		bypass = {
		}

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_internal_trade"
			trade_lower = yes
		}
	}

		shared_focus = { # Scrape the Land
			id = HHI_subjects_scrape_the_land
			icon = GFX_focus_generic_mining_industry
			prerequisite = { focus = HHI_subjects_internal_trade }
			#mutually_exclusive = { focus =  }
			relative_position_id = HHI_subjects_internal_trade
			x = -1
			y = 1
			cost = 10

			allow_branch = {
			}
			available = {
			}
			bypass = {
			}

			ai_will_do = {
				base = 1
			}

			available_if_capitulated = yes

			completion_reward = {
				log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_scrape_the_land"
				add_tech_bonus = {
					name = HHI_SUBJECTS_mining_investments_research
					bonus = 1.0
					uses = 2
					category = excavation_tech
				}
			}
		}

		shared_focus = { # Economic Autarky
			id = HHI_subjects_autarky
			icon = GFX_focus_generic_resource_extraction
			prerequisite = { focus = HHI_subjects_scrape_the_land }
			#mutually_exclusive = { focus =  }
			relative_position_id = HHI_subjects_scrape_the_land
			x = 0
			y = 1
			cost = 10

			allow_branch = {
			}
			available = {
			}
			bypass = {
			}

			ai_will_do = {
				base = 1
			}

			available_if_capitulated = yes

			completion_reward = {
				log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_autarky"
				add_tech_bonus = {
					name = GER_autarky
					bonus = 1.0
					uses = 2
					category = excavation_tech
				}
				add_ideas = HHE_autarky_idea
				trade_lower = yes
			}
		}

	shared_focus = { # Recognized Global Trade
		id = HHI_subjects_recognized_global_trade
		icon = GFX_goal_generic_positive_trade_relations
		prerequisite = { focus = HHI_subjects_completed_second_industrial_plan }
		mutually_exclusive = { focus = HHI_subjects_internal_trade }
		relative_position_id = HHI_subjects_completed_second_industrial_plan
		x = -2
		y = 1
		cost = 5

		allow_branch = {
		}
		available = {
		}
		bypass = {
		}

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_recognized_global_trade"
			trade_raise = yes
		}
	}

		shared_focus = { # Protect the Farmers
			id = HHI_subjects_protect_farmers
			icon = GFX_focus_ARG_capitalize_the_beef_industry
			prerequisite = { focus = HHI_subjects_recognized_global_trade }
			#mutually_exclusive = { focus =  }
			relative_position_id = HHI_subjects_recognized_global_trade
			x = 1
			y = 1
			cost = 10

			allow_branch = {
			}
			available = {
			}
			bypass = {
			}

			ai_will_do = {
				base = 1
			}

			available_if_capitulated = yes

			completion_reward = {
				log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_protect_farmers"
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
						free_building_slots = {
							building = infrastructure
							size > 0
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = industrial_complex
											size > 0
											include_locked = yes
										}
										is_in_home_area = yes
									}
									any_owned_state = {
										free_building_slots = {
											building = infrastructure
											size > 0
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}

		shared_focus = { # Subsidized the Farmers
			id = HHI_subjects_subsidized_farmers
			icon = GFX_focus_generic_agricultural_subsidies
			prerequisite = { focus = HHI_subjects_protect_farmers }
			#mutually_exclusive = { focus =  }
			relative_position_id = HHI_subjects_protect_farmers
			x = 0
			y = 1
			cost = 10

			allow_branch = {
			}
			available = {
			}
			bypass = {
			}

			ai_will_do = {
				base = 1
			}

			available_if_capitulated = yes

			completion_reward = {
				log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_subsidized_farmers"
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
						free_building_slots = {
							building = infrastructure
							size > 0
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = industrial_complex
											size > 0
											include_locked = yes
										}
										is_in_home_area = yes
									}
									any_owned_state = {
										free_building_slots = {
											building = infrastructure
											size > 0
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
						free_building_slots = {
							building = infrastructure
							size > 0
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = industrial_complex
											size > 0
											include_locked = yes
										}
										is_in_home_area = yes
									}
									any_owned_state = {
										free_building_slots = {
											building = infrastructure
											size > 0
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}

	shared_focus = { # Centralized Grid
		id = HHI_subjects_central_grid_energy
		icon = GFX_focus_generic_railroad
		prerequisite = { focus = HHI_subjects_completed_second_industrial_plan }
		mutually_exclusive = { focus = HHI_subjects_local_grid_energy }
		relative_position_id = HHI_subjects_completed_second_industrial_plan
		x = 2
		y = 1
		cost = 5

		allow_branch = {
		}
		available = {
		}
		bypass = {
		}

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_central_grid_energy"
		}
	}

		shared_focus = { # Capital Expansion
			id = HHI_subjects_capital_expansion
			icon = GFX_goal_generic_construct_infrastructure
			prerequisite = { focus = HHI_subjects_central_grid_energy }
			#mutually_exclusive = { focus =  }
			relative_position_id = HHI_subjects_central_grid_energy
			x = -1
			y = 1
			cost = 10

			allow_branch = {
			}
			available = {
			}
			bypass = {
			}

			ai_will_do = {
				base = 1
			}

			available_if_capitulated = yes

			completion_reward = {
				log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_capital_expansion"
				if = {
					limit = {
						capital_scope = {
							NOT = {
								free_building_slots = {
									building = industrial_complex
									size > 0
								}
							}
						}
					}
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 0
							}
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
				if = {
					limit = {
						capital_scope = {
							free_building_slots = {
								building = industrial_complex
								size > 0
							}
						}
					}
					capital_scope = {
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
			}
		}

		shared_focus = { # Capital of the State
			id = HHI_subjects_capital_state
			icon = GFX_focus_generic_modernize_industry
			prerequisite = { focus = HHI_subjects_capital_expansion }
			#mutually_exclusive = { focus =  }
			relative_position_id = HHI_subjects_capital_expansion
			x = 0
			y = 1
			cost = 10

			allow_branch = {
			}
			available = {
			}
			bypass = {
			}

			ai_will_do = {
				base = 1
			}

			available_if_capitulated = yes

			completion_reward = {
				log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_capital_state"
				if = {
					limit = {
						capital_scope = {
							NOT = {
								free_building_slots = {
									building = industrial_complex
									size > 1
								}
							}
						}
					}
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 1
							}
						}
						add_extra_state_shared_building_slots = 3
						add_building_construction = {
							type = industrial_complex
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
				if = {
					limit = {
						capital_scope = {
							free_building_slots = {
								building = industrial_complex
								size > 1
							}
						}
					}
					capital_scope = {
						add_extra_state_shared_building_slots = 3
						add_building_construction = {
							type = industrial_complex
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
			}
		}

	shared_focus = { # Localized Grids
		id = HHI_subjects_local_grid_energy
		icon = GFX_focus_generic_supply_line
		prerequisite = { focus = HHI_subjects_completed_second_industrial_plan }
		mutually_exclusive = { focus = HHI_subjects_central_grid_energy }
		relative_position_id = HHI_subjects_completed_second_industrial_plan
		x = 4
		y = 1
		cost = 5

		allow_branch = {
		}
		available = {
		}
		bypass = {
		}

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_local_grid_energy"
		}
	}

		shared_focus = { # Local Connections
			id = HHI_subjects_network_connection
			icon = GFX_focus_generic_road_investment
			prerequisite = { focus = HHI_subjects_local_grid_energy }
			#mutually_exclusive = { focus =  }
			relative_position_id = HHI_subjects_local_grid_energy
			x = 1
			y = 1
			cost = 10

			allow_branch = {
			}
			available = {
			}
			bypass = {
			}

			ai_will_do = {
				base = 1
			}

			available_if_capitulated = yes

			completion_reward = {
				log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_network_connection"
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = infrastructure
											size > 0
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = infrastructure
											size > 0
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = infrastructure
											size > 0
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}

		shared_focus = { # Local Workshops
			id = HHI_subjects_local_workshops
			icon = GFX_focus_generic_workers_and_farmers_rise
			prerequisite = { focus = HHI_subjects_network_connection }
			#mutually_exclusive = { focus =  }
			relative_position_id = HHI_subjects_network_connection
			x = 0
			y = 1
			cost = 10

			allow_branch = {
			}
			available = {
			}
			bypass = {
			}

			ai_will_do = {
				base = 1
			}

			available_if_capitulated = yes

			completion_reward = {
				log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_local_workshops"
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = infrastructure
											size > 0
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = infrastructure
											size > 0
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = infrastructure
											size > 0
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = infrastructure
											size > 0
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = infrastructure
											size > 0
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}

	shared_focus = { # Gulf Economic Theories
		id = HHI_subjects_gulf_economic_theories
		icon = GFX_focus_CHL_strengthen_the_central_bank
		prerequisite = { focus = HHI_subjects_recognized_global_trade focus = HHI_subjects_internal_trade }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_recognized_global_trade
		x = -1
		y = 1
		cost = 10

		allow_branch = {
		}
		available = {
		}
		bypass = {
		}

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_gulf_economic_theories"
			add_political_power = 70
			custom_effect_tooltip = HHI_SUBJECTS_GULF_TRADING_THEORIES
			set_country_flag = gulf_trading_theories
		}
	}

		shared_focus = { # Invite Sinus City Researchers
			id = HHI_subjects_invite_sinus_city_researchers
			icon = GFX_goal_tfv_generic_tech_sharing
			prerequisite = { focus = HHI_subjects_gulf_economic_theories }
			#mutually_exclusive = { focus =  }
			relative_position_id = HHI_subjects_gulf_economic_theories
			x = 0
			y = 1
			cost = 10

			allow_branch = {
			}
			available = {
			}
			bypass = {
			}

			ai_will_do = {
				base = 1
			}

			available_if_capitulated = yes

			completion_reward = {
				log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_invite_sinus_city_researchers"
				IF = {
					LIMIT = { original_research_slots > 1
						NOT = { has_completed_focus = HHI_subjects_invite_concordia_city_researchers }
					}
					add_research_slot = 1
					ELSE = {
						LIMIT = { original_research_slots < 2 }
						add_research_slot = 1
						ELSE = {
							add_tech_bonus = {
								name = level_playing_field_bonus
								bonus = 1.0
								uses = 2
								category = electronics
								category = industry
							}
						}
					}
				}
			}
		}

	shared_focus = { # Modernize Logistics
		id = HHI_subjects_modernize_logistics
		icon = GFX_focus_ARG_develop_the_electricity_sector
		prerequisite = { focus = HHI_subjects_central_grid_energy focus = HHI_subjects_local_grid_energy }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_central_grid_energy
		x = 1
		y = 1
		cost = 10

		allow_branch = {
		}
		available = {
		}
		bypass = {
		}

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_modernize_logistics"
			add_political_power = 105
			add_tech_bonus = {
				name = logistics_bonus
				bonus = 1.0
				uses = 3
				category = electronics
				category = logistics_tech
			}
		}
	}

		shared_focus = { # Invite Concordia City Researchers
			id = HHI_subjects_invite_concordia_city_researchers
			icon = GFX_goal_tfv_generic_tech_sharing
			prerequisite = { focus = HHI_subjects_modernize_logistics }
			#mutually_exclusive = { focus =  }
			relative_position_id = HHI_subjects_modernize_logistics
			x = 0
			y = 1
			cost = 10

			allow_branch = {
			}
			available = {
			}
			bypass = {
			}

			ai_will_do = {
				base = 1
			}

			available_if_capitulated = yes

			completion_reward = {
				log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_invite_concordia_city_researchers"
				IF = {
					LIMIT = { original_research_slots > 1
						NOT = { has_completed_focus = HHI_subjects_invite_sinus_city_researchers }
					}
					add_research_slot = 1
					ELSE = {
						LIMIT = { original_research_slots < 2 }
						add_research_slot = 1
						ELSE = {
							add_doctrine_cost_reduction = {
								name = military_research_bonus
								cost_reduction = 0.5
								uses = 2
								category = land_doctrine
								category = air_doctrine
								category = naval_doctrine
							}
						}
					}
				}
			}
		}

	shared_focus = { # Finalized Third Industrial Plan
		id = HHI_subjects_completed_third_industrial_plan
		icon = GFX_focus_generic_industry_3
		prerequisite = { focus = HHI_subjects_invite_sinus_city_researchers }
		prerequisite = { focus = HHI_subjects_completed_second_industrial_plan }
		prerequisite = { focus = HHI_subjects_invite_concordia_city_researchers }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_completed_second_industrial_plan
		x = 0
		y = 4
		cost = 5

		allow_branch = {
		}
		available = {
			OR = {
				has_global_flag = HHE_collapse_of_the_nation
				AND = {
					NOT = { has_idea = nobility_held_industry }
					NOT = { has_idea = traditional_bureaucracy }
					#NOT = { has_idea = elven_tribal_rebellion }
				}
			}
		}
		bypass = {
		}

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_completed_third_industrial_plan"
			swap_ideas = {
				remove_idea = modernized_industrial1
				add_idea = modernized_industrial0
			}
		}
	}
# Politics
	shared_focus = { # Clear Sights Ahead
		id = HHI_subjects_clear_sight
		icon = GFX_focus_generic_secret_service_agency
		x = 10
		y = 0
		cost = 5

		allow_branch = {
		}
		available = {
			OR = {
				has_global_flag = elected_tradition
				has_global_flag = elected_influencer
				has_global_flag = elected_authority
				has_global_flag = elected_warmonger
				has_global_flag = HHE_luke_deeds_good_deeds
			}
		}
		bypass = {
		}

		ai_will_do = {
			base = 100
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_clear_sight"
			add_political_power = 35
			remove_ideas = uncertain_future
			country_lock_all_division_template = no
		}
	}
	# Follow
		shared_focus = { # Follow the Central Government
			id = HHI_subjects_follow_central_government
			icon = GFX_goal_generic_improve_relations
			prerequisite = { focus = HHI_subjects_clear_sight }
			mutually_exclusive = { focus = HHI_subjects_betray_central_government }
			relative_position_id = HHI_subjects_clear_sight
			x = 3
			y = 1
			cost = 10

			available = {
				has_global_flag = HHE_central_government_agenda
				NOT = { has_global_flag = HHE_collapse_of_the_nation }
			}
			bypass = {
			}

			ai_will_do = {
				factor = 100
			}

			available_if_capitulated = yes

			completion_reward = {
				log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_follow_central_government"
				add_stability = 0.10
			}
		}
	# Betray
		shared_focus = { # Betray the Central Government
			id = HHI_subjects_betray_central_government
			icon = GFX_goal_generic_demand_territory
			prerequisite = { focus = HHI_subjects_clear_sight }
			mutually_exclusive = { focus = HHI_subjects_follow_central_government }
			relative_position_id = HHI_subjects_clear_sight
			x = -3
			y = 1
			cost = 10

			available = {
				has_global_flag = HHE_central_government_agenda
				NOT = { has_global_flag = HHE_collapse_of_the_nation }
			}
			bypass = {
			}

			ai_will_do = {
				factor = 3
			}

			available_if_capitulated = yes

			completion_reward = {
				log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_betray_central_government"
				add_stability = -0.05
			}
		}
	# Nobles
		shared_focus = { # Deal with Nobility Sellouts
			id = HHE_subjects_nobility_industry_sellout
			icon = GFX_goal_generic_neutrality_focus
			prerequisite = { focus = HHI_subjects_follow_central_government focus = HHI_subjects_betray_central_government }
			#mutually_exclusive = { focus =  }
			relative_position_id = HHI_subjects_clear_sight
			x = -3
			y = 2
			cost = 10

			allow_branch = {
				NOT = { has_global_flag = HHE_collapse_of_the_nation }
			}
			available = {
			}
			bypass = {
			}

			ai_will_do = {
				factor = 3
			}

			available_if_capitulated = yes

			completion_reward = {
				log = "[GetDateText]: [Root.GetName]: Focus HHE_subjects_nobility_industry_sellout"
				remove_ideas = nobility_held_industry
			}
		}
	# Bureaucrats
		shared_focus = { # Outdated bureaucracy
			id = HHE_subjects_outdated_bureaucracy
			icon = GFX_goal_generic_neutrality_focus
			prerequisite = { focus = HHI_subjects_follow_central_government focus = HHI_subjects_betray_central_government }
			#mutually_exclusive = { focus =  }
			relative_position_id = HHI_subjects_clear_sight
			x = 3
			y = 2
			cost = 10

			allow_branch = {
				NOT = { has_global_flag = HHE_collapse_of_the_nation }
			}
			available = {
			}
			bypass = {
			}

			ai_will_do = {
				factor = 3
			}

			available_if_capitulated = yes

			completion_reward = {
				log = "[GetDateText]: [Root.GetName]: Focus HHE_subjects_outdated_bureaucracy"
				remove_ideas = traditional_bureaucracy
			}
		}
	# Minority Question
		shared_focus = { # Deal with the Minority Species
			id = HHI_subjects_minority_species
			icon = GFX_goal_generic_neutrality_focus
			prerequisite = { focus = HHI_subjects_follow_central_government focus = HHI_subjects_betray_central_government }
			#mutually_exclusive = { focus =  }
			relative_position_id = HHI_subjects_clear_sight
			x = 0
			y = 2
			cost = 10

			allow_branch = {
				NOT = { has_global_flag = HHE_collapse_of_the_nation }
			}
			available = {
				has_idea = elven_tribal_rebellion
			}
			bypass = {
			}

			ai_will_do = {
				factor = 3
			}

			available_if_capitulated = yes

			completion_reward = {
				log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_minority_species"
			}
		}

		shared_focus = { # Purge their Population
			id = HHI_subjects_purge_their_population
			icon = GFX_focus_generic_military_dictatorship
			prerequisite = { focus = HHI_subjects_minority_species }
			mutually_exclusive = { focus = HHI_subjects_peaceful_coexistence }
			relative_position_id = HHI_subjects_minority_species
			x = -1
			y = 2
			cost = 10

			allow_branch = {
			}
			available = {
				NOT = {
					OR = {
						has_country_leader_with_trait = pl_pluralism_advisor
						has_country_leader_with_trait  = pl_semidemocracy_advisor
					}
				}
				HHE = {
					NOT = {
						OR = {
							has_country_leader_with_trait = pl_pluralism_advisor
							has_country_leader_with_trait  = pl_semidemocracy_advisor
						}
					}
				}
			}
			bypass = {
			}

			ai_will_do = {
				factor = 100
			}

			available_if_capitulated = yes

			completion_reward = { # This is not genocide, we are just relocating them to paradise!
				log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_purge_their_population"
				remove_ideas = elven_tribal_rebellion # Based on historical precedents and the complexity of such situations, the likelihood might range from 5% to 20%
				if = {
					limit = {
						NOT = { has_global_flag = HHI_SUBJECTS_firsts_of_many }
					}
					hidden_effect = {
						RVV = { country_event = { id = HHI_SUBJECTS.100 } }
						CPV = { country_event = { id = HHI_SUBJECTS.100 } }
						set_global_flag = HHI_SUBJECTS_firsts_of_many
						100 = { add_core_of = ETF }
						341 = { add_core_of = ETF }
						342 = { add_core_of = ETF }
						421 = { add_core_of = ETF }
					}
				}
				if = {
					limit = {
						19 = { is_controlled_by = ROOT }
					}
					19 = { add_manpower = -25496 # 20% of State Manpower 
						add_core_of = ROOT
						remove_core_of = ETF
					}
					add_stability = -0.05
					add_war_support = -0.01
					hidden_effect = { # 5% Due to the distance to the Valley
						219 = { add_manpower = 1275 }
					}
				}
				if = {
					limit = {
						91 = { is_controlled_by = ROOT }
					}
					91 = { add_manpower = -494000 # 20% of State Manpower 
						add_core_of = ROOT
						remove_core_of = ETF
					}
					add_stability = -0.05
					add_war_support = -0.01
					hidden_effect = { # 5% Due to the distance to the Valley
						217 = { add_manpower = 24700 }
					}
				}
				if = {
					limit = {
						136 = { is_controlled_by = ROOT }
					}
					136 = { add_manpower = -158560 # 20% of State Manpower
						add_core_of = ROOT
						remove_core_of = ETF
					}
					add_stability = -0.05
					add_war_support = -0.01
					hidden_effect = { # 5% Due to the distance to the Valley
						344 = { add_manpower = 7930 }
					}
				}
				if = {
					limit = {
						139 = { is_controlled_by = ROOT }
					}
					139 = { add_manpower = -336000 # 20% of State Manpower
						add_core_of = ROOT
						remove_core_of = ETF
					}
					add_stability = -0.05
					add_war_support = -0.01
					hidden_effect = { # 5% Due to the distance to the Valley
						342 = { add_manpower = 16800 }
					}
				}
				if = {
					limit = {
						149 = { is_controlled_by = ROOT }
					}
					149 = { add_manpower = -63750 # 20% of State Manpower
						add_core_of = ROOT
						remove_core_of = ETF
					}
					add_stability = -0.05
					add_war_support = -0.01
					hidden_effect = { # 5% Due to the distance to the Valley
						421 = { add_manpower = 3187 }
					}
				}
				if = {
					limit = {
						161 = { is_controlled_by = ROOT }
					}
					161 = { add_manpower = -50995 # 20% of State Manpower
						add_core_of = ROOT
						remove_core_of = ETF
					}
					add_stability = -0.05
					add_war_support = -0.01
					hidden_effect = { # 5% Due to the distance to the Valley
						421 = { add_manpower = 2549 }
					}
				}
				if = {
					limit = {
						162 = { is_controlled_by = ROOT }
					}
					162 = { add_manpower = -76490 # 20% of State Manpower
						add_core_of = ROOT
						remove_core_of = ETF
					}
					add_stability = -0.05
					add_war_support = -0.01
					hidden_effect = { # 5% Due to the distance to the Valley
						421 = { add_manpower = 3824 }
					}
				}
				if = {
					limit = {
						163 = { is_controlled_by = ROOT }
					}
					163 = { add_manpower = -31870 # 20% of State Manpower
						add_core_of = ROOT
						remove_core_of = ETF
					}
					add_stability = -0.05
					add_war_support = -0.01
					hidden_effect = { # 5% Due to the distance to the Valley
						344 = { add_manpower = 1593 }
					}
				}
				if = {
					limit = {
						167 = { is_controlled_by = ROOT }
					}
					167 = { add_manpower = -19100 # 20% of State Manpower
						add_core_of = ROOT
						remove_core_of = ETF
					}
					add_stability = -0.05
					add_war_support = -0.01
					hidden_effect = { # 5% Due to the distance to the Valley
						342 = { add_manpower = 955 }
					}
				}
				if = {
					limit = {
						270 = { is_controlled_by = ROOT }
					}
					270 = { add_manpower = -3605 # 20% of State Manpower
						add_core_of = ROOT
						remove_core_of = ETF
					}
					add_stability = -0.10
					add_war_support = -0.05
					hidden_effect = { # 5% Due to the distance to the Valley
						218 = { add_manpower = 180 }
					}
				}
				if = {
					limit = {
						271 = { is_controlled_by = ROOT }
					}
					271 = { add_manpower = -254000 # 20% of State Manpower
						add_core_of = ROOT
						remove_core_of = ETF
					}
					add_stability = -0.10
					add_war_support = -0.05
					hidden_effect = { # 5% Due to the distance to the Valley
						217 = { add_manpower = 12700 }
					}
				}
				if = {
					limit = {
						275 = { is_controlled_by = ROOT }
					}
					275 = { add_manpower = -38200 # 20% of State Manpower
						add_core_of = ROOT
						remove_core_of = ETF
					}
					add_stability = -0.05
					add_war_support = -0.01
					hidden_effect = { # 5% Due to the distance to the Valley
						342 = { add_manpower = 1910 }
					}
				}
				if = {
					limit = {
						408 = { is_controlled_by = ROOT }
					}
					408 = { add_manpower = -15935 # 20% of State Manpower
						add_core_of = ROOT
						remove_core_of = ETF
					}
					add_stability = -0.05
					add_war_support = -0.01
					hidden_effect = { # 5% Due to the distance to the Valley
						219 = { add_manpower = 797 }
					}
				}
			}
		}

		shared_focus = { # Peaceful Cooperation
			id = HHI_subjects_peaceful_cooperation
			icon = GFX_focus_hol_the_foundations_of_defense
			prerequisite = { focus = HHI_subjects_minority_species }
			#mutually_exclusive = { focus =  }
			relative_position_id = HHI_subjects_minority_species
			x = 0
			y = 1
			cost = 15

			allow_branch = {
			}
			available = {
				NOT = { has_completed_focus = HHI_subjects_purge_their_population }
			}
			bypass = {
			}

			ai_will_do = {
				factor = 3
			}

			available_if_capitulated = yes

			completion_reward = {
				log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_peaceful_cooperation"
				add_stability = 0.05
			}
		}

		shared_focus = { # Peaceful Coexistence
			id = HHI_subjects_peaceful_coexistence
			icon = GFX_goal_generic_improve_relations
			prerequisite = { focus = HHI_subjects_peaceful_cooperation }
			mutually_exclusive = { focus = HHI_subjects_purge_their_population }
			relative_position_id = HHI_subjects_minority_species
			x = 1
			y = 2
			cost = 15

			allow_branch = {
			}
			available = {
			}
			bypass = {
			}

			ai_will_do = {
				factor = 3
			}

			available_if_capitulated = yes

			completion_reward = {
				log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_peaceful_coexistence"
				remove_ideas = elven_tribal_rebellion
				if = {
					limit = {
						19 = { is_controlled_by = ROOT }
					}
					19 = { add_core_of = ROOT }
					19 = { add_manpower = -25496 }
					add_stability = -0.05
					add_war_support = -0.01
				}
				if = {
					limit = {
						91 = { is_controlled_by = ROOT }
					}
					91 = { add_core_of = ROOT }
				}
				if = {
					limit = {
						136 = { is_controlled_by = ROOT }
					}
					136 = { add_core_of = ROOT }
				}
				if = {
					limit = {
						139 = { is_controlled_by = ROOT }
					}
					139 = { add_core_of = ROOT }
				}
				if = {
					limit = {
						149 = { is_controlled_by = ROOT }
					}
					149 = { add_core_of = ROOT }
				}
				if = {
					limit = {
						161 = { is_controlled_by = ROOT }
					}
					161 = { add_core_of = ROOT }
				}
				if = {
					limit = {
						162 = { is_controlled_by = ROOT }
					}
					162 = { add_core_of = ROOT }
				}
				if = {
					limit = {
						163 = { is_controlled_by = ROOT }
					}
					163 = { add_core_of = ROOT }
				}
				if = {
					limit = {
						167 = { is_controlled_by = ROOT }
					}
					167 = { add_core_of = ROOT }
				}
				if = {
					limit = {
						271 = { is_controlled_by = ROOT }
					}
					271 = { add_core_of = ROOT }
				}
				if = {
					limit = {
						275 = { is_controlled_by = ROOT }
					}
					275 = { add_core_of = ROOT }
				}
				if = {
					limit = {
						408 = { is_controlled_by = ROOT }
					}
					408 = { add_core_of = ROOT }
				}
				add_stability = 0.05
				add_war_support = 0.05
			}
		}
	# Civil War
		shared_focus = { # Smite Civil Unrest
			id = HHE_subjects_smite_civil_unrest
			icon = GFX_goal_generic_major_war
			prerequisite = { focus = HHI_subjects_clear_sight }
			#mutually_exclusive = { focus =  }
			relative_position_id = HHI_subjects_clear_sight
			x = 0
			y = 2
			cost = 10

			allow_branch = {
				has_global_flag = HHE_collapse_of_the_nation
			}
			available = {
			}
			bypass = {
			}

			ai_will_do = {
				factor = 100
			}

			available_if_capitulated = yes

			completion_reward = {
				log = "[GetDateText]: [Root.GetName]: Focus HHE_subjects_smite_civil_unrest"
				add_war_support = 0.10
			}
		}

		shared_focus = { # Deal with the Nobility
			id = HHE_subjects_manage_nobility
			icon = GFX_goal_generic_major_war
			prerequisite = { focus = HHE_subjects_smite_civil_unrest }
			#mutually_exclusive = { focus =  }
			relative_position_id = HHE_subjects_smite_civil_unrest
			x = -3
			y = 1
			cost = 5

			available = {
			}
			bypass = {
			}

			ai_will_do = {
				factor = 5
			}

			available_if_capitulated = yes

			completion_reward = {
				log = "[GetDateText]: [Root.GetName]: Focus HHE_subjects_manage_nobility"
				remove_ideas = nobility_held_industry
			}
		}

		shared_focus = { # Deal with the Bureaucrats
			id = HHE_subjects_manage_bureaucrats
			icon = GFX_goal_generic_major_war
			prerequisite = { focus = HHE_subjects_smite_civil_unrest }
			#mutually_exclusive = { focus =  }
			relative_position_id = HHE_subjects_smite_civil_unrest
			x = 3
			y = 1
			cost = 5

			available = {
			}
			bypass = {
			}

			ai_will_do = {
				factor = 5
			}

			available_if_capitulated = yes

			completion_reward = {
				log = "[GetDateText]: [Root.GetName]: Focus HHE_subjects_manage_bureaucrats"
				remove_ideas = traditional_bureaucracy
			}
		}

		shared_focus = { # Minority Solution
			id = HHE_subjects_the_minority_species
			icon = GFX_focus_unknown
			prerequisite = { focus = HHE_subjects_smite_civil_unrest }
			#mutually_exclusive = { focus =  }
			relative_position_id = HHE_subjects_smite_civil_unrest
			x = 0
			y = 2
			cost = 10

			available = {
				has_idea = elven_tribal_rebellion
			}
			bypass = {
			}

			ai_will_do = {
				factor = 5
			}

			available_if_capitulated = yes

			completion_reward = {
				log = "[GetDateText]: [Root.GetName]: Focus HHE_subjects_the_minority_species"
				every_state = {
					limit = {
						OR = {
							is_core_of = HET
							is_claimed_by = HET
							is_core_of = ETF
							is_claimed_by = ETF
						}
					}
					add_core_of = ROOT
				}
				remove_ideas = elven_tribal_rebellion # Free due to them just rebelling
			}
		}
# Military
	shared_focus = { # Modernizing Military
		id = HHI_subjects_modern_military
		icon = GFX_focus_generic_tank_air_support
		#prerequisite = { focus = HHI_subjects_clear_sight }
		#mutually_exclusive = { focus =  }
		#relative_position_id = HHI_subjects_clear_sight
		x = 20
		y = 0
		cost = 5

		allow_branch = {
		}
		available = {
			not = {
				has_idea = uncertain_future
			}
		}
		bypass = {
		}

		ai_will_do = {
			base = 5
			modifier = {
				factor = 500
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_modern_military"
		}
	}

	shared_focus = {
		id = HHI_subjects_modern_army_core
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = HHI_subjects_modern_military }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_modern_military
		x = -3
		y = 1
		cost = 10

		allow_branch = {
		}
		available = {
		}
		bypass = {
		}

		ai_will_do = {
			base = 5
			modifier = {
				factor = 500
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_modern_army_core"
			army_experience = 25
			swap_ideas = {
				remove_idea = disjointed_military1
				add_idea = disjointed_military0
			}
		}
	}

	shared_focus = { # Completed Army Modernization
		id = HHI_subjects_completed_modernization_army_core
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = HHI_subjects_modern_army_core }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_modern_army_core
		x = 0
		y = 3
		cost = 10

		allow_branch = {
		}
		available = {
		}
		bypass = {
		}

		ai_will_do = {
			base = 3
			modifier = {
				factor = 500
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_completed_modernization_army_core"
			army_experience = 25
			remove_ideas = disjointed_military0
		}
	}

	shared_focus = {
		id = HHI_subjects_modern_aerial_force
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = HHI_subjects_modern_military }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_modern_military
		x = 0
		y = 1
		cost = 10

		allow_branch = {
		}
		available = {
		}
		bypass = {
		}

		ai_will_do = {
			base = 5
			modifier = {
				factor = 500
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_modern_aerial_force"
			air_experience = 25
			swap_ideas = {
				remove_idea = disjointed_airforce1
				add_idea = disjointed_airforce0
			}
		}
	}

	shared_focus = { # Completed Aerial Modernization
		id = HHI_subjects_completed_modernization_aerial_force
		icon = GFX_focus_generic_cas_aircraft
		prerequisite = { focus = HHI_subjects_modern_aerial_force }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_modern_aerial_force
		x = 0
		y = 3
		cost = 10

		allow_branch = {
		}
		available = {
		}
		bypass = {
		}

		ai_will_do = {
			base = 3
			modifier = {
				factor = 500
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_completed_modernization_aerial_force"
			air_experience = 25
			remove_ideas = disjointed_airforce0
		}
	}

	shared_focus = {
		id = HHI_subjects_modern_naval_fleet
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = HHI_subjects_modern_military }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_modern_military
		x = 3
		y = 1
		cost = 10

		allow_branch = {
		}
		available = {
			any_state = {
				is_coastal = yes
				is_controlled_by = ROOT
			}
		}
		bypass = {
		}

		ai_will_do = {
			base = 5
			modifier = {
				factor = 500
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_modern_naval_fleet"
			navy_experience = 25
			swap_ideas = {
				remove_idea = disjointed_navy1
				add_idea = disjointed_navy0
			}
		}
	}

	shared_focus = { # Completed Naval Modernization
		id = HHI_subjects_completed_modernization_naval_fleet
		icon = GFX_goal_generic_navy_carrier
		prerequisite = { focus = HHI_subjects_modern_naval_fleet }
		#mutually_exclusive = { focus =  }
		relative_position_id = HHI_subjects_modern_naval_fleet
		x = 0
		y = 3
		cost = 10

		allow_branch = {
		}
		available = {
			any_state = {
				is_coastal = yes
				is_controlled_by = ROOT
			}
		}
		bypass = {
		}

		ai_will_do = {
			base = 3
			modifier = {
				factor = 500
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus HHI_subjects_completed_modernization_naval_fleet"
			navy_experience = 25
			remove_ideas = disjointed_navy0
		}
	}