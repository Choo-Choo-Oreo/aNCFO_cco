# Important to put HIGHEST first
HHE_deed_reform_starter_up = {
	if = {
		limit = {
			not = {
				has_idea = HHE_first_deed_reform
				has_idea = HHE_second_deed_reform
				has_idea = HHE_third_deed_reform
			}
		}
		add_ideas = HHE_first_deed_reform
	}
	else_if = {
		limit = { has_idea = HHE_first_deed_reform }
		swap_ideas = {
			remove_idea = HHE_first_deed_reform
			add_idea = HHE_second_deed_reform
		}
	}
	else_if = {
		limit = { has_idea = HHE_second_deed_reform }
		swap_ideas = {
			remove_idea = HHE_second_deed_reform
			add_idea = HHE_third_deed_reform
		}
	}
}

HHE_kill_deed_lvl1 = {
	if = {
		limit = {
			or = {
				not = {
					has_country_flag = {
						flag = the_divinipuer_1
					}
				}
				not = {
					has_country_flag = {
						flag = the_higher_priest_1
					}
				}
				not = {
					has_country_flag = {
						flag = the_nobility_1
					}
				}
				not = {
					has_country_flag = {
						flag = the_people_1
					}
				}
			}
		}
		hidden_effect = {
			set_global_flag = death_of_deed
			HHE = {
				load_focus_tree = hhe_election_focus
				add_ideas = HHE_choas4
				add_stability = -0.1
				kill_country_leader = yes
				create_country_leader = {
					name = "Harmonain Senate"
					desc = "POLITICS_XXX_DESC"
					#picture = "Portrait_XXX.dds"
					expire = "1965.1.1"
					ideology = sub_harmonainism
					traits = {
						harmonain_senate
					}
					id = 201
				}
			}
			news_event = HHE.0
		}
	}
}
HHE_kill_deed_lvl2 = {
	if = {
		limit = {
			or = {
				not = {
					has_country_flag = {
						flag = the_divinipuer_2
					}
				}
				not = {
					has_country_flag = {
						flag = the_higher_priest_2
					}
				}
				not = {
					has_country_flag = {
						flag = the_nobility_2
					}
				}
				not = {
					has_country_flag = {
						flag = the_people_2
					}
				}
			}
		}
		hidden_effect = {
			set_global_flag = death_of_deed
			HHE = {
				load_focus_tree = hhe_election_focus
				add_ideas = HHE_choas4
				add_stability = -0.1
				kill_country_leader = yes
				create_country_leader = {
					name = "Harmonain Senate"
					desc = "POLITICS_XXX_DESC"
					#picture = "Portrait_XXX.dds"
					expire = "1965.1.1"
					ideology = sub_harmonainism
					traits = {
						harmonain_senate
					}
					id = 201
				}
			}
			news_event = HHE.0
		}
	}
}

# Important to put HIGHEST first
HHE_deed_reform_removal = {
	if = {
		limit = {
			has_idea = HHE_first_deed_reform
		}
		remove_ideas = HHE_first_deed_reform
	}
	else_if = {
		limit = {
			has_idea = HHE_second_deed_reform
		}
		remove_ideas = HHE_second_deed_reform
	}
	else_if = {
		limit = {
			has_idea = HHE_third_deed_reform
		}
		remove_ideas = HHE_third_deed_reform
	}
}

# Election Effects
elected_tradition_effect = {
	set_global_flag = elected_tradition
	hidden_effect = {
		load_focus_tree = hhe_tradition_focus
		HHE = {
			create_country_leader = {
				name = "Gabriel Strongheart"
				desc = "POLITICS_GABRIEL_DESC"
				#picture = "Portrait_XXX.dds"
				expire = "1965.1.1"
				ideology = sub_harmonainism
				traits = {
					silent_workhorse
				}
				id = 202
			}
		}
	}
}
elected_influencer_effect = {
	set_global_flag = elected_influencer
	hidden_effect = {
		load_focus_tree = hhe_influencer_focus
		HHE = {
			create_country_leader = {
				name = "Isabella Delfina"
				desc = "POLITICS_XXX_DESC"
				#picture = "Portrait_XXX.dds"
				expire = "1936.1.1"
				ideology = sub_reformed_harmonainism
				traits = {
					political_dancer
				}
				id = 203
			}
		}
	}
}
elected_authority_effect = {
	set_global_flag = elected_authority
	hidden_effect = {
		load_focus_tree = hhe_authority_focus
		HHE = {
			create_country_leader = {
				name = "XXX"
				desc = "POLITICS_XXX_DESC"
				#picture = "Portrait_XXX.dds"
				expire = "1965.1.1"
				ideology = sub_harmonainism
				traits = {
					prince_of_terror
				}
				id = 204
			}
		}
	}
}
elected_warmonger_effect = {
	set_global_flag = elected_warmonger
	hidden_effect = {
		load_focus_tree = hhe_warmonger_focus
		add_ideas = initial_takeover
		HHE = {
			create_country_leader = {
				name = "Archard Vlad"
				desc = "POLITICS_XXX_DESC"
				picture = "gfx/leaders/Europe/portrait_europe_generic_5.dds"
				expire = "1965.1.1"
				ideology = sub_radical_harmonainism
				traits = {
					warmonger
					national_integralist
				}
				id = 205
			}
			create_country_leader = {
				name = "Archard Vlad"
				desc = "POLITICS_XXX_DESC"
				picture = "gfx/leaders/Europe/portrait_europe_generic_5.dds"
				expire = "1965.1.1"
				ideology = sub_authoritarian
				traits = {
					warmonger
					national_integralist
				}
				id = 206
			}
			#create_country_leader = { # Will become the leader of this party if certent events happen
			#	name = "Archard Vlad"
			#	desc = "POLITICS_XXX_DESC"
			#	picture = "gfx/leaders/Europe/portrait_europe_generic_5.dds"
			#	expire = "1965.1.1"
			#	ideology = sub_national_unitist # National unitist? HES NAZI!?!?
			#	traits = {
			#		warmonger
			#		national_integralist
			#	}
			#	id = 206
			#}
		}
		HTP = {
			create_country_leader = {
				name = "Coccineum Vlad"
				desc = "POLITICS_XXX_DESC"
				picture = "gfx/leaders/Europe/portrait_europe_generic_5.dds"
				expire = "1965.1.1"
				ideology = sub_radical_harmonainism
				traits = {
					warmonger
					retired_officer
				}
				id = 401
			}
			create_country_leader = {
				name = "Coccineum Vlad"
				desc = "POLITICS_XXX_DESC"
				picture = "gfx/leaders/Europe/portrait_europe_generic_5.dds"
				expire = "1965.1.1"
				ideology = sub_authoritarian
				traits = {
					warmonger
					retired_officer
				}
				id = 402
			}
		}
	}
}
civil_war_warmonger_effect = {
	set_global_flag = HHE_collapse_of_the_nation # This one is Perma
	hidden_effect = {
		load_focus_tree = hhe_warmonger_focus_civil_war
		news_event = news.6
		HHE_civil_war_begins = yes
		8 = { set_demilitarized_zone = yes }
		79 = { set_demilitarized_zone = yes }
		81 = { set_demilitarized_zone = yes }
		93 = { set_demilitarized_zone = yes }
		99 = { set_demilitarized_zone = yes }
		114 = { set_demilitarized_zone = yes }
		118 = { set_demilitarized_zone = yes }
		122 = { set_demilitarized_zone = yes }
		123 = { set_demilitarized_zone = yes }
		124 = { set_demilitarized_zone = yes }
		140 = { set_demilitarized_zone = yes }
		141 = { set_demilitarized_zone = yes }
		146 = { set_demilitarized_zone = yes }
		148 = { set_demilitarized_zone = yes }
		149 = { set_demilitarized_zone = yes }
		150 = { set_demilitarized_zone = yes }
		151 = { set_demilitarized_zone = yes }
		154 = { set_demilitarized_zone = yes }
		156 = { set_demilitarized_zone = yes }
		157 = { set_demilitarized_zone = yes }
		161 = { set_demilitarized_zone = yes }
		162 = { set_demilitarized_zone = yes }
		283 = { set_demilitarized_zone = yes }
		284 = { set_demilitarized_zone = yes }
		285 = { set_demilitarized_zone = yes }
		286 = { set_demilitarized_zone = yes }
		287 = { set_demilitarized_zone = yes }
		401 = { set_demilitarized_zone = yes }
		HHE = {
			leave_faction  = yes
			remove_ideas = prepare_military_takeover
			add_timed_idea = { idea = failed_military_takeover days = 90 }
		}
		# Harmonainus Farmers Region
		set_autonomy = { target = HBB autonomy_state = autonomy_free }
		HBB = {
			leave_faction  = yes
			drop_cosmetic_tag = yes
		}
		# Harmonainus Central Region
		set_autonomy = { target = HCR autonomy_state = autonomy_free }
		HCR = {
			leave_faction  = yes
			drop_cosmetic_tag = yes
		}
		# Harmonainus East Region
		set_autonomy = { target = HER autonomy_state = autonomy_free }
		HER = {
			leave_faction  = yes
			drop_cosmetic_tag = yes
		}
		# Harmonainus Elven Tribes
		set_autonomy = { target = HET autonomy_state = autonomy_free }
		HET = {
			leave_faction  = yes
			drop_cosmetic_tag = yes
		}
		# Harmonainus Laity Federation
		set_autonomy = { target = HLF autonomy_state = autonomy_free }
		HLF = {
			leave_faction  = yes
			drop_cosmetic_tag = yes
		}
		# Harmonainus Nobles Estate Region
		set_autonomy = { target = HNO autonomy_state = autonomy_free }
		HNO = {
			leave_faction  = yes
			drop_cosmetic_tag = yes
		}
		# Harmonainus Pearl Sea Protectorate
		set_autonomy = { target = HPP autonomy_state = autonomy_free }
		HPP = {
			leave_faction  = yes
			drop_cosmetic_tag = yes
		}
		# Harmonainus North River Federation
		set_autonomy = { target = HRF autonomy_state = autonomy_free }
		HRF = {
			leave_faction  = yes
			drop_cosmetic_tag = yes
		}
		# Harmonainus Sea Protectorate
		set_autonomy = { target = HSP autonomy_state = autonomy_free }
		HSP = {
			leave_faction  = yes
			drop_cosmetic_tag = yes
		}
		# Harmonainus Sinus Theocracy
		set_autonomy = { target = HST autonomy_state = autonomy_free }
		HST = {
			leave_faction  = yes
			drop_cosmetic_tag = yes
		}
		# Harmonainus Temerarium Peninsula
		#set_autonomy = { target = HTP autonomy_state = autonomy_free }
		HTP = {
			leave_faction  = yes
			#drop_cosmetic_tag = yes
		}
		# Harmonainus Under Mountain Region
		set_autonomy = { target = HUM autonomy_state = autonomy_free }
		HUM = {
			leave_faction  = yes
			drop_cosmetic_tag = yes
		}
		# Harmonainus Upper Peninsula
		set_autonomy = { target = HUP autonomy_state = autonomy_free }
		HUP = {
			leave_faction  = yes
			drop_cosmetic_tag = yes
		}
		# Harmonainus Western Approach
		set_autonomy = { target = HWA autonomy_state = autonomy_free }
		HWA = {
			leave_faction  = yes
			drop_cosmetic_tag = yes
		}
	}
}
# Post Civil War Effects
post_civil_war_tradition_effect = {
	set_global_flag = elected_tradition
	load_focus_tree = hhe_tradition_focus
	#ROOT = {
	#	create_country_leader = {
	#		name = "Gabriel Strongheart"
	#		desc = "POLITICS_GABRIEL_DESC"
	#		#picture = "Portrait_XXX.dds"
	#		expire = "1965.1.1"
	#		ideology = sub_harmonainism
	#		traits = {
	#			silent_workhorse
	#		}
	#		id = 202
	#	}
	#}
}
post_civil_war_influencer_effect = {
	set_global_flag = elected_influencer
	load_focus_tree = hhe_influencer_focus
	#ROOT = {
	#	create_country_leader = {
	#		name = "Isabella Delfina"
	#		desc = "POLITICS_XXX_DESC"
	#		#picture = "Portrait_XXX.dds"
	#		expire = "1936.1.1"
	#		ideology = sub_reformed_harmonainism
	#		traits = {
	#			political_dancer
	#		}
	#		id = 203
	#	}
	#}
}

# Important to put LOWEST first
HHE_political_choas_down = {
	if = {
		limit = { has_idea = HHE_choas0 }
		custom_effect_tooltip = HHE_political_choas_down_tt
		remove_ideas = HHE_choas0
	}
	if = {
		limit = { has_idea = HHE_choas1 }
		custom_effect_tooltip = HHE_political_choas_down_tt
		swap_ideas = {
			remove_idea = HHE_choas1
			add_idea = HHE_choas0
		}
	}
	if = {
		limit = { has_idea = HHE_choas2 }
		custom_effect_tooltip = HHE_political_choas_down_tt
		swap_ideas = {
			remove_idea = HHE_choas2
			add_idea = HHE_choas1
		}
	}
	if = {
		limit = { has_idea = HHE_choas3 }
		custom_effect_tooltip = HHE_political_choas_down_tt
		swap_ideas = {
			remove_idea = HHE_choas3
			add_idea = HHE_choas2
		}
	}
	if = {
		limit = { has_idea = HHE_choas4 }
		custom_effect_tooltip = HHE_political_choas_down_tt
		swap_ideas = {
			remove_idea = HHE_choas4
			add_idea = HHE_choas3
		}
	}
}

# Important to put LOWEST first
HHE_mobilize_nobility_industry = {
	if = {
		limit = { has_idea = mobilize_nobility_industry_0 }
		custom_effect_tooltip = HHE_mobilize_nobility_industry_tt
		swap_ideas = {
			remove_idea = mobilize_nobility_industry_0
			add_idea = HHE_individual_industry
		}
	}
	if = {
		limit = { has_idea = mobilize_nobility_industry_1 }
		custom_effect_tooltip = HHE_mobilize_nobility_industry_tt
		swap_ideas = {
			remove_idea = mobilize_nobility_industry_1
			add_idea = mobilize_nobility_industry_0
		}
	}
	if = {
		limit = { has_idea = mobilize_nobility_industry_2 }
		custom_effect_tooltip = HHE_mobilize_nobility_industry_tt
		swap_ideas = {
			remove_idea = mobilize_nobility_industry_2
			add_idea = mobilize_nobility_industry_1
		}
	}
	if = {
		limit = { has_idea = nobility_held_industry }
		custom_effect_tooltip = HHE_mobilize_nobility_industry_tt
		swap_ideas = {
			remove_idea = nobility_held_industry
			add_idea = mobilize_nobility_industry_2
		}
	}
}

# Important to put LOWEST first
HHE_nationalize_state_industry = {
	if = {
		limit = { has_idea = state_industry_1 }
		custom_effect_tooltip = HHE_mobilize_nobility_industry_tt
		swap_ideas = {
			remove_idea = state_industry_1
			add_idea = state_industry_0
		}
	}
	if = {
		limit = { has_idea = state_industry_2 }
		custom_effect_tooltip = HHE_mobilize_nobility_industry_tt
		swap_ideas = {
			remove_idea = state_industry_2
			add_idea = state_industry_1
		}
	}
	if = {
		limit = { has_idea = mobilize_nobility_industry_0 }
		custom_effect_tooltip = HHE_mobilize_nobility_industry_tt
		swap_ideas = {
			remove_idea = mobilize_nobility_industry_0
			add_idea = state_industry_2
		}
	}
}