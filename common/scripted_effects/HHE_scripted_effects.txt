#Important to put HIGHEST first
HHE_deed_reform_starter_up = {
	if = {
		limit = {
			not = {
				has_idea = HHE_first_deed_reform
				has_idea = HHE_second_deed_reform
				has_idea = HHE_third_deed_reform
			}
		}
		add_ideas = HHE_first_deed_reform
	}
	else_if = {
		limit = { has_idea = HHE_first_deed_reform }
		swap_ideas = {
			remove_idea = HHE_first_deed_reform
			add_idea = HHE_second_deed_reform
		}
	}
	else_if = {
		limit = { has_idea = HHE_second_deed_reform }
		swap_ideas = {
			remove_idea = HHE_second_deed_reform
			add_idea = HHE_third_deed_reform
		}
	}
}

HHE_kill_deed_lvl1 = {
	if = {
		limit = {
			or = {
				not = {
					has_country_flag = {
						flag = the_katastasi_1
					}
				}
				not = {
					has_country_flag = {
						flag = the_higher_priest_1
					}
				}
				not = {
					has_country_flag = {
						flag = the_nobility_1
					}
				}
				not = {
					has_country_flag = {
						flag = the_people_1
					}
				}
			}
		}
		hidden_effect = {
			set_global_flag = death_of_deed
			HHE = {
				load_focus_tree = hhe_election_focus
				add_ideas = HHE_choas4
				add_stability = -0.1
				kill_country_leader = yes
				create_country_leader = {
					name = "Harmonain Senate"
					desc = "POLITICS_XXX_DESC"
					#picture = "Portrait_XXX.dds"
					expire = "1965.1.1"
					ideology = sub_harmonainism
					traits = {
						harmonain_senate
					}
					id = 201
				}
			}
			news_event = HHE.0
		}
	}
}

HHE_kill_deed_lvl2 = {
	if = {
		limit = {
			or = {
				not = {
					has_country_flag = {
						flag = the_katastasi_2
					}
				}
				not = {
					has_country_flag = {
						flag = the_higher_priest_2
					}
				}
				not = {
					has_country_flag = {
						flag = the_nobility_2
					}
				}
				not = {
					has_country_flag = {
						flag = the_people_2
					}
				}
			}
		}
		hidden_effect = {
			set_global_flag = death_of_deed
			HHE = {
				load_focus_tree = hhe_election_focus
				add_ideas = HHE_choas4
				add_stability = -0.1
				kill_country_leader = yes
				create_country_leader = {
					name = "Harmonain Senate"
					desc = "POLITICS_XXX_DESC"
					#picture = "Portrait_XXX.dds"
					expire = "1965.1.1"
					ideology = sub_harmonainism
					traits = {
						harmonain_senate
					}
					id = 201
				}
			}
			news_event = HHE.0
		}
	}
}

#Important to put HIGHEST first
HHE_deed_reform_removal = {
	if = {
		limit = {
			has_idea = HHE_first_deed_reform
		}
		remove_ideas = HHE_first_deed_reform
	}
	else_if = {
		limit = {
			has_idea = HHE_second_deed_reform
		}
		remove_ideas = HHE_second_deed_reform
	}
	else_if = {
		limit = {
			has_idea = HHE_third_deed_reform
		}
		remove_ideas = HHE_third_deed_reform
	}
}

#Important to put LOWEST first
HHE_political_choas_down = {
	if = {
		limit = { has_idea = HHE_choas0 }
		custom_effect_tooltip = HHE_political_choas_down_tt
		remove_ideas = HHE_choas0
	}
	if = {
		limit = { has_idea = HHE_choas1 }
		custom_effect_tooltip = HHE_political_choas_down_tt
		swap_ideas = {
			remove_idea = HHE_choas1
			add_idea = HHE_choas0
		}
	}
	if = {
		limit = { has_idea = HHE_choas2 }
		custom_effect_tooltip = HHE_political_choas_down_tt
		swap_ideas = {
			remove_idea = HHE_choas2
			add_idea = HHE_choas1
		}
	}
	if = {
		limit = { has_idea = HHE_choas3 }
		custom_effect_tooltip = HHE_political_choas_down_tt
		swap_ideas = {
			remove_idea = HHE_choas3
			add_idea = HHE_choas2
		}
	}
	if = {
		limit = { has_idea = HHE_choas4 }
		custom_effect_tooltip = HHE_political_choas_down_tt
		swap_ideas = {
			remove_idea = HHE_choas4
			add_idea = HHE_choas3
		}
	}
}

#Important to put LOWEST first
HHE_mobilize_nobility_industry = {
	if = {
		limit = { has_idea = mobilize_nobility_industry_0 }
		custom_effect_tooltip = HHE_mobilize_nobility_industry_tt
		swap_ideas = {
			remove_idea = mobilize_nobility_industry_0
			add_idea = HHE_individual_industry
		}
	}
	if = {
		limit = { has_idea = mobilize_nobility_industry_1 }
		custom_effect_tooltip = HHE_mobilize_nobility_industry_tt
		swap_ideas = {
			remove_idea = mobilize_nobility_industry_1
			add_idea = mobilize_nobility_industry_0
		}
	}
	if = {
		limit = { has_idea = mobilize_nobility_industry_2 }
		custom_effect_tooltip = HHE_mobilize_nobility_industry_tt
		swap_ideas = {
			remove_idea = mobilize_nobility_industry_2
			add_idea = mobilize_nobility_industry_1
		}
	}
	if = {
		limit = { has_idea = nobility_held_industry }
		custom_effect_tooltip = HHE_mobilize_nobility_industry_tt
		swap_ideas = {
			remove_idea = nobility_held_industry
			add_idea = mobilize_nobility_industry_2
		}
	}
}

#Important to put LOWEST first
HHE_nationalize_state_industry = {
	if = {
		limit = { has_idea = state_industry_1 }
		custom_effect_tooltip = HHE_mobilize_nobility_industry_tt
		swap_ideas = {
			remove_idea = state_industry_1
			add_idea = state_industry_0
		}
	}
	if = {
		limit = { has_idea = state_industry_2 }
		custom_effect_tooltip = HHE_mobilize_nobility_industry_tt
		swap_ideas = {
			remove_idea = state_industry_2
			add_idea = state_industry_1
		}
	}
	if = {
		limit = { has_idea = mobilize_nobility_industry_0 }
		custom_effect_tooltip = HHE_mobilize_nobility_industry_tt
		swap_ideas = {
			remove_idea = mobilize_nobility_industry_0
			add_idea = state_industry_2
		}
	}
}