###MILITARY AI### DEV2.B4 (VK) 147
## versione DEV2.B parallel  from DEV2.A2


## the management of the Railway guns has been modified compared to the DEV2 (VK)


  #UNIT_PRODUCTION (this line insert from DEV2.B2)


default_unit_production = {


##(VK)##(DEV2.B4)

	enable = {
		always = yes
	}
	abort = {
		always = no
	}

   #ROLE_RATIO

	ai_strategy = {
		type = role_ratio
		id = infantry
		value = 110
##(DEV2) before 100
	}
	
	ai_strategy = {
		type = role_ratio
		id = heavy_infantry
		value = 90
	}

	ai_strategy = {
		type = role_ratio
		id = mountaineers
		value = 30
##(DEV2.B) before 35

	}

	ai_strategy = {
		type = role_ratio
		id = marines
		value = 45
##(DEV2.A1) before 35
##(DEV2.A2) before 45
##(DEV2.B) before 45
##(VK)##(DEV2.B2) before 35


	}

	ai_strategy = {
		type = role_ratio
		id = motorized
		value = 45
	}

	ai_strategy = {
		type = role_ratio
		id = armor_role
		value = 85
##(DEV2.A) before 65
##(DEV2.A1) before 70
##(DEV2.A2) before 80


	}

	ai_strategy = {
		type = role_ratio
		id = heavy_armor_role
		value = 65
##(DEV2.A1) before 55

	}

  #UNIT_RATIO

	#Air unit factors

	ai_strategy = {
		type = unit_ratio
		id = fighter
		value = 100
	}

	ai_strategy = {
		type = unit_ratio
		id = cas
		value = 95
	}

	ai_strategy = {
		type = unit_ratio
		id = tactical_bomber
		value = 60
	}

	ai_strategy = {
		type = unit_ratio
		id = strategic_bomber
		value = 60
	}

	ai_strategy = {
		type = unit_ratio
		id = naval_bomber
		value = 50
	}

	ai_strategy = {
		type = unit_ratio
		id = cv_fighter
		value = 10
	}

	ai_strategy = {
		type = unit_ratio
		id = cv_naval_bomber
		value = 10
	}

	ai_strategy = {
		type = unit_ratio
		id = cv_cas
		value = 10
	}

	ai_strategy = {
		type = unit_ratio
		id = heavy_fighter
		value = 50
	}

	ai_strategy = {
		type = unit_ratio
		id = scout_plane
		value = 10
	}

	ai_strategy = {
		type = unit_ratio
		id = maritime_patrol_plane
		value = 30
	}

	ai_strategy = {
		type = unit_ratio
		id = air_transport
		value = 1
	}

   #EQUIPMENT

	ai_strategy = {
		type = equipment_production_factor
		id = fighter
		value = 70
	}
	
	ai_strategy = {
		type = equipment_production_factor
		id = cas
		value = 70
	}

	ai_strategy = {
		type = equipment_production_factor
		id = naval_bomber
		value = 20
	}

	ai_strategy = {
		type = equipment_production_factor
		id = tactical_bomber
		value = 60
	}

	ai_strategy = {
		type = equipment_production_factor
		id = heavy_fighter
		value = 40
	}

	ai_strategy = {
		type = equipment_production_factor
		id = strategic_bomber
		value = 55
	}

	ai_strategy = {
		type = equipment_production_factor
		id = maritime_patrol_plane
		value = 10
	}

	ai_strategy = {
		type = equipment_production_factor
		id = scout_plane
		value = 10
	}

	ai_strategy = {
		type = equipment_production_factor
		id = infantry
		value = 50
	}

	ai_strategy = {
		type = equipment_production_factor
		id = artillery
		value = 25
	}

	ai_strategy = {
		type = equipment_production_factor
		id = anti_tank
		value = 15
	}

	ai_strategy = {
		type = equipment_production_factor
		id = anti_air
		value = 15
	}

	ai_strategy = {
		type = equipment_production_factor
		id = motorized
		value = 45
	}

	ai_strategy = {
		type = equipment_production_factor
		id = mechanized
		value = 45
##(DEV2.A2) before 50


	}

	ai_strategy = {
		type = equipment_production_factor
		id = armor
		value = 90
##(DEV2.A2) before 60

	}

	##ai_strategy = {
	##	type = equipment_variant_production_factor
	##	id = light_tank_chassis
	##	factor = 0
	##}

	ai_strategy = {
		type = equipment_variant_production_factor
		id = transport_plane_equipment
		value = 1
	}

	
	ai_strategy = { 
		type = equipment_production_min_factories 
		id = fighter 
		value = 1 
	}
	
	ai_strategy = { 
		type = equipment_production_min_factories 
		id = cas 
		value = 1 
	}
	
	ai_strategy = { 
		type = equipment_production_min_factories 
		id = tactical_bomber 
		value = 1 
	}
	
	ai_strategy = { 
		type = equipment_production_min_factories 
		id = strategic_bomber 
		value = 1 
	}

	ai_strategy = { 
		type = equipment_production_min_factories 
		id = convoy 
		value = 2
	}
}

default_mountaineers_production = {
	enable = {
		ai_wants_divisions > 49
	}
	abort = {
		ai_wants_divisions < 50
	}

	ai_strategy = {
		type = role_ratio
		id = mountaineers
		value = 5
	}
}

default_marines_production = {
	enable = {
		ai_wants_divisions > 49
	}
	abort = {
		ai_wants_divisions < 50
	}

	ai_strategy = {
		type = role_ratio
		id = marines
		value = 5
	}
}


default_motorized_production = {
	enable = {
		ai_wants_divisions > 79
##(VK)##(DEV2.B2) before 69

	}
	abort_when_not_enabled = yes


	ai_strategy = {
		type = unit_ratio
		id = motorized
		value = 10
##(VK)##(DEV2.B2) before 8

	}

	ai_strategy = {
		type = unit_ratio
		id = infantry
		value = -4
	}
}

default_mechanized_production = {
	enable = {
		ai_wants_divisions > 69
	}
	abort_when_not_enabled = yes


	ai_strategy = {
		type = unit_ratio
		id = mechanized
		value = 10
	}

	ai_strategy = {
		type = unit_ratio
		id = infantry
		value = -4
	}
}

default_armored_production = {
	enable = {
		ai_wants_divisions > 39

##(DEV2.A2) before 49

	}
	abort_when_not_enabled = yes


	ai_strategy = {
		type = role_ratio
		id = armor_role
		value = 20

##(DEV2.A2) before 15

	}
	
	ai_strategy = {
		type = role_ratio
		id = heavy_armor_role
		value = 5
	}
	
	ai_strategy = {
		type = equipment_production_factor
		id = motorized
		value = 10
	}

	ai_strategy = {
		type = role_ratio
		id = infantry
		value = -5
	}
}

highered_armored_production = {
	enable = {
		num_of_military_factories > 59
##(VK)##(DEV2.B2) before 59
##(VK)##(DEV2.B3) before 45 fail germany only light at 0101941


	}
	abort_when_not_enabled = yes


	ai_strategy = {
		type = role_ratio
		id = armor_role
		value = 35

##(DEV2.A2) before 25

	}
	
	ai_strategy = {
		type = role_ratio
		id = heavy_armor_role
		value = 15
	}
	
	ai_strategy = {
		type = role_ratio
		id = infantry
		value = -6
	}

	ai_strategy = {
		type = equipment_production_factor
		id = mechanized
		value = 10
	}
	ai_strategy = {
		type = equipment_production_factor
		id = motorized
		value = 15
	}
}

highered_armored_production_major = {
	enable = {
		OR = {
			is_major = yes
			AND = {
				num_of_military_factories > 30
			}
		}
	}
	abort = {
		always = no
	}

	ai_strategy = {
		type = role_ratio
		id = armor_role
		value = 45
##(DEV2.A2) before 30
##(VK)##(DEV2.B2) before 35


	}
	ai_strategy = {
		type = role_ratio
		id = heavy_armor_role
		value = 20
	}

	ai_strategy = {
		type = equipment_production_factor
		id = mechanized
		value = 15
	}
	ai_strategy = {
		type = equipment_production_factor
		id = motorized
		value = 20
##(VK)## (DEV2.B2) before 10


	}
}

default_stockpile_management = {
	enable = {
		num_divisions > 130
	}

	abort = {
		num_divisions < 100
	}

	ai_strategy = {
		type = equipment_stockpile_surplus_ratio
		value = 35 # double base stockpile #from 25 to 35
	}
}

default_produce_floating_harbors = {
	enable = {
		is_historical_focus_on = no
		has_war = yes
		num_of_naval_factories > 29
		num_of_military_factories > 49 # floating harbors are used for invasions. Why do large invasions if you don't have the industrial capacity?
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = unit_ratio
		id = floating_harbor # for floating harbors, 'unit_ratio' is actually not a ratio but an absolute desired number
		value = 1
	}
}

default_railway_gun_management = {
	enable = {
		num_divisions > 200
		#is_major = yes
		has_dlc = "No Step Back"
	}
	abort = {
		num_divisions < 125
	}

	ai_strategy = { # This will add the specified value to the RAILWAY_GUN_PRODUCTION_BASE_DIVISIONS_RATIO_PERCENT define and use that as the desired railway guns / divisions ratio (in %)
		type = railway_gun_divisions_ratio
		value = 1
	}

}

